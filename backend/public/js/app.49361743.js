(function(t){function e(e){for(var r,o,i=e[0],l=e[1],c=e[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],r=!0,i=1;i<s.length;i++){var l=s[i];0!==a[l]&&(r=!1)}r&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},a={app:0},n=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0502":function(t,e,s){t.exports=s.p+"img/photos.9b8e757d.jpg"},"0ec4":function(t,e,s){t.exports=s.p+"img/ifat.ba1c8d93.jpg"},1:function(t,e){},1096:function(t,e,s){var r={"./1.jpg":"8624","./2.jpg":"974a","./3.jpg":"57b6","./4.jpg":"cdd5","./5.jpg":"3849","./blueNorange.jpg":"7b72","./ivana-cajina-dQejX2ucPBs-unsplash.jpg":"6633","./jay-mantri-TFyi0QOx08c-unsplash.jpg":"deb1","./kunal-shinde--f0YLss50Bs-unsplash.jpg":"488c"};function a(t){var e=n(t);return s(e)}function n(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=n,t.exports=a,a.id="1096"},1743:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABrklEQVRYhe3YTa6CMBAA4D4uABdwYSKn4BjKUlniJbgMYWG8hy40YedOF67lAhjimJIHsdof2k6JL3mTTEKhyXwpTSjzAwBAvji8b8aRPwdsmoZUVTU6oixLEkVRm/SaCfiN6/UKk8mE7kdIkgTu9zuMEcfjEXzfb+vSjKKIqdoDsyzrJ9Gcz+fOke84KbAoCmaiayQPR8f0Phf4eDwgTdNRkENxDHAspA7uA+gaqYvjAl0hTXBCYIdcr9coSFOcFIiFtMEpgbZIW9wgoCkSAzcYqIvEwmkBVci6rtFx2kAVcrfbQRAEaDgjoAzpeR4qzhgoQ2LirIAdMo5j7kru93trnDWQrtD7nutysVigHDCMgTIc5gHDCMjD0T3He922SG2gCHc4HFAPGEZAGa4LbORgoOgL8YpzgRwE1MFhI5VAExwmUgq0wWEhhUAM3CvS9B+HC8TE2SI/gC5wNkgG6BJniuyB5/PZOU6FXC6XYuB7d8sVToW83W584Ha7HQ0nQk6nU2iahpnDNNE3mw05nU5ktVqRMAxH6a7S8nmek8vl0tadzWbM8/8uv1UQQp4q5OmBBWeX8gAAAABJRU5ErkJggg=="},3849:function(t,e,s){t.exports=s.p+"img/5.afa403cb.jpg"},"440d":function(t,e,s){t.exports=s.p+"img/logo2.3b6a8a95.png"},4678:function(t,e,s){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=n(t);return s(e)}function n(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=n,t.exports=a,a.id="4678"},"488c":function(t,e,s){t.exports=s.p+"img/kunal-shinde--f0YLss50Bs-unsplash.ef52ddd1.jpg"},"4ffd":function(t,e,s){t.exports=s.p+"img/logo.58142ada.png"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var r=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("main-header",{ref:"mainHeader"}),s("router-view"),s("user-msg")],1)},n=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"main-header",class:{"img-bg":t.isBoardOpen}},[r("main-nav"),t.memberFullname?r("member-preview",{attrs:{member:t.member}}):t._e(),r("img",{staticClass:"logo",attrs:{src:s("4ffd")}})],1)},i=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{attrs:{id:"nav"}},[s("router-link",{staticClass:"nav-link icon house",staticStyle:{"font-family":"fa-solid"},attrs:{to:"/"}}),t.user._id?s("router-link",{staticClass:"nav-link boards",attrs:{to:"/board"}},[s("div",{staticClass:"icon board"}),t._v(" Boards")]):t._e(),s("div",{ref:"boardSearch",staticClass:"search-container",class:{active:t.isActive},attrs:{tabindex:"0;"},on:{click:t.openSearch,blur:t.closeSearch}},[t.isActive?s("board-search-popup",{attrs:{boards:t.boards,tabindex:"0"},on:{"close-search":t.closeSearch},nativeOn:{blur:function(e){return t.blurHandler(e)}}}):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.txt,expression:"filterBy.txt"}],attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.filterBy.txt},on:{input:[function(e){e.target.composing||t.$set(t.filterBy,"txt",e.target.value)},t.searchBoards],blur:t.blurHandler}}),t.isActive?s("span",{staticClass:"icon x",on:{click:function(e){return e.stopPropagation(),t.closeSearch(e)}}}):s("span",{staticClass:"icon search"})],1),s("div")],1)},c=[],u=s("1da1"),d=(s("4de4"),s("caad"),s("2532"),s("a630"),s("3ca3"),s("96cf"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"clean-list board-search"},t._l(t.boards,(function(e){return s("li",{key:e._id,style:t.boardStyle(e),on:{click:function(s){return s.stopPropagation(),t.openBoard(e._id)}}},[s("a",{staticClass:"nav-board-preview"},[t._v(" "+t._s(e.title)+" ")])])})),0)}),p=[],m={props:{boards:Array},methods:{boardStyle:function(t){if(t.style.bgImg){var e=s("1096")("./"+t.style.bgImg.value);return{backgroundImage:"url(".concat(e,")")}}return{backgroundColor:t.style.bgColor.value}},openBoard:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.$route.params.boardId!==t){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,e.$router.push("/board/"+t);case 4:e.$emit("close-search");case 5:case"end":return s.stop()}}),s)})))()}}},h=m,b=s("2877"),g=Object(b["a"])(h,d,p,!1,null,null,null),f=g.exports,v={data:function(){return{isActive:!1,placeholder:"Jump to...",filterBy:{txt:""},boards:null}},created:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"loadBoards"});case 2:t.boards=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{openSearch:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isActive=!0,t.$refs.boardSearch.focus,t.placeholder="Search...";case 3:case"end":return e.stop()}}),e)})))()},closeSearch:function(){this.isActive=!1,this.placeholder="Jump to..."},searchBoards:function(){var t=this;this.boards=this.$store.getters.boards.filter((function(e){var s=e.title;return s.toLowerCase().includes(t.filterBy.txt.toLowerCase())}))},logHi:function(){console.log("hI! :)")},blurHandler:function(t){if(t.relatedTarget){var e=Array.from(t.relatedTarget.classList);e.includes("board-search")||e.includes("search-container")?t.target.focus():(console.log("closeSearch"),this.closeSearch())}else this.closeSearch()}},computed:{user:function(){return this.$store.getters.loggedinUser}},components:{boardSearchPopup:f}},k=v,y=Object(b["a"])(k,l,c,!1,null,null,null),C=y.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"flex center member-preview",class:t.colorClassByInitials},[t._v(" "+t._s(t.memberInitials)+" ")])},x=[],j=(s("1276"),s("ac1f"),s("a15b"),s("d81d"),s("13d5"),{props:{member:Object},methods:{toggleMemberDetails:function(){this.$emit("toggle-member-details",{ev:ev,member:member})}},computed:{memberInitials:function(){if("Guest"===this.member.username)return"GU";var t=this.member.fullname.split(" "),e=t.map((function(t){return t.charAt(0).toUpperCase()})).join("");return e},colorClassByInitials:function(){var t=this.memberInitials,e=t.split("").reduce((function(t,e){return t+=e.charCodeAt(0),t}),0);return"clr"+(e%7+2)}}}),_=j,A=Object(b["a"])(_,w,x,!1,null,null,null),T=A.exports,O={data:function(){return{member:null,isBoardOpen:!1}},computed:{memberFullname:function(){return this.member=this.$store.getters.loggedinUser,this.member.fullname}},watch:{"$route.params.boardId":function(t){if(t)return this.isBoardOpen=!0;this.isBoardOpen=!1}},components:{mainNav:C,memberPreview:T}},B=O,E=Object(b["a"])(B,o,i,!1,null,null,null),S=E.exports,L=(s("99af"),s("bc3a")),I=s.n(L),M=s("8c4f"),$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("div",{staticClass:"hero"},[r("img",{staticClass:"hero-img",attrs:{src:s("6ee5")}}),r("div",{staticClass:"hero-content"},[r("h1",[t._v("Manage your collaborative projects")]),r("h2",[t._v(" A solution for structuring and online co-ordination for organizations and individuals alike ")]),r("button",{staticClass:"guest-btn",on:{click:t.enterAsGuest}},[t._v("Try it now!")])])])])},P=[],R={getUsers:D,getById:N,remove:U,update:H,getLoggedinUser:F,login:G,logout:W,signup:Q};function D(){return Ja.get("user")}function N(t){return Ja.get("user/".concat(t))}function U(t){return Ja.delete("user/".concat(t))}function H(t){return J.apply(this,arguments)}function J(){return J=Object(u["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ja.put("user/".concat(e._id),e);case 2:e=t.sent,F()._id===e._id&&V(e);case 4:case"end":return t.stop()}}),t)}))),J.apply(this,arguments)}function F(){return JSON.parse(sessionStorage.getItem("loggedinUser")||"null")}function G(t){return z.apply(this,arguments)}function z(){return z=Object(u["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ja.post("auth/login",e);case 2:if(s=t.sent,!s){t.next=5;break}return t.abrupt("return",V(s));case 5:case"end":return t.stop()}}),t)}))),z.apply(this,arguments)}function Q(t){return Y.apply(this,arguments)}function Y(){return Y=Object(u["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ja.post("auth/signup",e);case 2:return s=t.sent,t.abrupt("return",V(s));case 4:case"end":return t.stop()}}),t)}))),Y.apply(this,arguments)}function W(){return q.apply(this,arguments)}function q(){return q=Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ja.post("auth/logout");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),q.apply(this,arguments)}function V(t){return sessionStorage.setItem("loggedinUser",JSON.stringify(t)),t}window.userService=R;s("d3b7"),s("25f0");var X=function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var s,r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="ifat-unsigned",r="ifats-cloud",a="https://api.cloudinary.com/v1_1/".concat(r,"/image/upload"),n=new FormData,n.append("file",e),n.append("upload_preset",s),console.log("uploadImg -> FORM_DATA",n),t.prev=7,t.next=10,I.a.post(a,n);case 10:return o=t.sent,t.abrupt("return",o.data);case 14:t.prev=14,t.t0=t["catch"](7),console.error("ERROR!",t.t0);case 17:case"end":return t.stop()}}),t,null,[[7,14]])})));return function(e){return t.apply(this,arguments)}}();var K,Z,tt,et,st,rt,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"about"},t._l(t.users,(function(t,e){return s("div",{key:e,staticClass:"creator"},[s("bio",{attrs:{user:t}})],1)})),0)},nt=[],ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bio"},[t.user.imgUrl?r("img",{attrs:{src:s("bb6e")("./"+this.user.imgUrl),alt:t.user.name+"'s Picture"}}):t._e(),r("div",{staticClass:"info"},[r("h1",{staticClass:"name"},[t._v(t._s(t.user.name))]),r("div",{staticClass:"body"},[t._l(t.user.social,(function(e){return r("a",{key:e.url,staticClass:"social",attrs:{href:e.url}},[r("button",{class:e.type+" social-icon",style:t.style(e.type),domProps:{innerHTML:t._s(t.content(e.type))}})])})),r("div",{staticClass:"description",domProps:{innerHTML:t._s(t.user.description)}})],2)])])},it=[],lt={props:{user:Object},methods:{content:function(t){var e="&#xf09b;";return e},style:function(t){if("git"===t)return{color:"#eee",background:"#111"}}},computed:{infoStyle:function(){return this.user.imgUrl?"top:-70px;":""}}},ct=lt,ut=Object(b["a"])(ct,ot,it,!1,null,null,null),dt=ut.exports,pt={data:function(){return{users:[{name:"Anton Zebnitski",description:"<p>\n With an interest in both artistic and technical fields from a young age, I strive to combine these two passions to bring the best possible outcome.</p><small>Also known as SQUID13.</small>",imgUrl:"creator/anton.jpg",social:[{type:"git",url:"https://github.com/SQUlD13"}]},{name:"Ifat Braslavi",description:"<p>\n Formerly a senior BIM model manager in the construction industry. Started coding out of interest and the need for efficiency and better tools. On the way fell inlove with code.",imgUrl:"creator/ifat.jpg",social:[{type:"git",url:"https://github.com/ifatBR"}]},{name:"Noy Hason",description:"<p>\n  A junior Fullstack developer who likes to challenge my brain trying my way in the computers world everyday by hard-working & high-thinking and enjoy every second of coding!",imgUrl:"creator/noy.jpg",social:[{type:"git",url:"https://github.com/noyhason3"}]}]}},components:{bio:dt}},mt=pt,ht=Object(b["a"])(mt,at,nt,!1,null,null,null),bt=ht.exports,gt={name:"home",methods:{enterAsGuest:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s={username:"Guest",password:"guest"},e.next=3,t.$store.dispatch({type:"login",userCred:s});case 3:e.sent,t.$router.push("/board");case 5:case"end":return e.stop()}}),e)})))()}},mounted:function(){},components:{about:bt}},ft=gt,vt=Object(b["a"])(ft,$,P,!1,null,null,null),kt=vt.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"login-page"},[s("div",{staticClass:"login"},[s("h1",[t._v("Log in :")]),s("userForm",{attrs:{type:"login"},on:{submit:t.logIn}})],1),s("div",{staticClass:"signup"},[s("h1",[t._v("Sign Up :")]),s("userForm",{attrs:{type:"signup"},on:{submit:t.signUp}})],1)])},Ct=[],wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"user-form",on:{click:t.submit}},["signup"===t.type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.fullname,expression:"fullname"}],staticClass:"fullname",attrs:{type:"text",placeholder:"Full Name...",required:""},domProps:{value:t.fullname},on:{input:function(e){e.target.composing||(t.fullname=e.target.value)}}}):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"username",attrs:{type:"text",placeholder:"User Name...",required:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("div",{staticClass:"password"},[t.showPassword?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",placeholder:"Password...",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Password...",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("button",{staticClass:"toggle-show-password",domProps:{innerHTML:t._s(t.showPassContent)},on:{click:function(e){e.preventDefault(),t.showPassword=!t.showPassword}}})]),s("button",{class:"submit "+t.type,attrs:{type:"submit"}},[t._v(t._s(t.type))])])},xt=[],jt={props:{type:String},data:function(){return{showPassword:!1,username:"",password:"",fullname:""}},methods:{submit:function(t){this.username&&this.password&&("signup"===this.type&&this.fullname||"login"===this.type)&&(this.$emit("submit",this.user),t.preventDefault())}},computed:{showPassContent:function(){return this.showPassword?"&#xf06e":"&#xf070"},user:function(){var t={username:this.username,password:this.password};return"signup"===this.type&&(t.fullname=this.fullname),console.log("file: user-form.vue - line 79 - user - user",t),t}}},_t=jt,At=Object(b["a"])(_t,wt,xt,!1,null,null,null),Tt=At.exports,Ot={components:{userForm:Tt},methods:{logIn:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"login",userCred:t});case 2:e.$router.push("/board");case 3:case"end":return s.stop()}}),s)})))()},signUp:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"signup",userCred:t});case 2:e.$router.push("/board");case 3:case"end":return s.stop()}}),s)})))()}}},Bt=Ot,Et=Object(b["a"])(Bt,yt,Ct,!1,null,null,null),St=Et.exports,Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.board?s("section",{staticClass:"dashboard-screen",on:{click:function(e){return e.stopPropagation(),t.closeDashboard(e)}}},[s("button",{staticClass:"close btn icon x-bright",on:{click:function(e){return e.stopPropagation(),t.closeDashboard(e)}}}),s("div",[s("h2",[t._v("Tasks per label")]),s("task-per-label",{staticClass:"task-per-label chart",attrs:{labels:Object.keys(t.taskPerLabel),data:Object.values(t.taskPerLabel),colors:t.labelColors,options:t.options}})],1),s("div",[s("h2",[t._v("Tasks per member")]),s("task-per-member",{staticClass:"task-per-member chart",attrs:{labels:Object.keys(t.taskPerMember),data:Object.values(t.taskPerMember),colors:t.memberColors,options:t.options}})],1),s("div",[s("h2",[t._v("Completed todos")]),s("todo-per-member",{staticClass:"todo-per-member chart",attrs:{labels1:Object.keys(t.taskPerLabel),data1:Object.values(t.taskPerLabel),labels2:Object.keys(t.taskPerMember),data2:Object.values(t.taskPerMember),colors:t.labelColors,options:t.options}})],1)]):t._e()},It=[],Mt=(s("b64b"),s("07ac"),s("1fca")),$t={extends:Mt["a"],props:{labels:Array,data:Array,colors:Array},data:function(){return{options:{scales:{xAxes:[{display:!0,gridLines:{display:!1},scaleLabel:{display:!0,labelString:"Labels"}}],yAxes:[{display:!0,gridLines:{display:!1},scaleLabel:{display:!0,labelString:"Tasks Count"}}]}}}},mounted:function(){this.renderChart({labels:this.labels,datasets:[{label:"",backgroundColor:this.colors,data:this.data,fontColor:"#2C4068"}]},this.options)}},Pt=$t,Rt=Object(b["a"])(Pt,K,Z,!1,null,null,null),Dt=Rt.exports,Nt={extends:Mt["c"],props:{labels:Array,data:Array,colors:Array},mounted:function(){this.renderChart({labels:this.labels,datasets:[{label:"",backgroundColor:this.colors,data:this.data,borderColor:"transparent"}]},this.options)}},Ut=Nt,Ht=Object(b["a"])(Ut,tt,et,!1,null,null,null),Jt=Ht.exports,Ft={extends:Mt["b"],props:{labels1:Array,data1:Array,labels2:Array,data2:Array,colors:Array},data:function(){return{options:{responsive:!0,scales:{xAxes:[{display:!0,gridLines:{display:!1},scaleLabel:{display:!0,labelString:"Labels"}}],yAxes:[{display:!0,gridLines:{display:!1},scaleLabel:{display:!0,labelString:"Tasks Count"}}]}}}},mounted:function(){this.renderChart({labels:this.labels1,datasets:[{label:"Gabi",backgroundColor:"transparent",borderColor:this.colors[0],data:this.data1,fontColor:"#2C4068"},{label:"Efi",backgroundColor:"transparent",borderColor:this.colors[1],data:this.data2,fontColor:"#2C4068"},{label:"Dov",backgroundColor:"transparent",borderColor:this.colors[2],data:[3,5,2,7,2,1],fontColor:"#2C4068"},{label:"Noam",backgroundColor:"transparent",borderColor:this.colors[3],data:[8,3,4,1,3,5],fontColor:"#2C4068"}]},this.options)}},Gt=Ft,zt=Object(b["a"])(Gt,st,rt,!1,null,null,null),Qt=zt.exports,Yt={data:function(){return{options:{legend:{labels:{fontColor:"#ffffff"}}}}},methods:{todosCompleteperMember:function(){},tasksPerMember:function(){},closeDashboard:function(){this.$router.push("/board/"+this.board._id)}},computed:{board:function(){return this.$store.getters.currBoard},labelColors:function(){return this.board.labels.map((function(t){var e=t.color;return e}))},memberColors:function(){return this.labelColors.push("#4B6F6B"),this.labelColors},taskPerLabel:function(){var t=this,e=this.board.labels.reduce((function(e,s){var r=t.board.groups.reduce((function(t,e){var r=e.tasks,a=r.filter((function(t){return t.labelIds?t.labelIds.includes(s.id):[]})).length;return t+=a,t}),0);return e[s.title]||(e[s.title]=0),e[s.title]+=r,e}),{});return console.log("keys",Object.keys(e)),console.log("values:",Object.values(e)),e},taskPerMember:function(){var t=this,e=this.board.members.reduce((function(e,s){var r=t.board.groups.reduce((function(t,e){var r=e.tasks,a=r.filter((function(t){return!!t.members&&t.members.some((function(t){var e=t._id;return e===s._id}))})).length;return t+=a,t}),0);return e[s.username]||(e[s.username]=0),e[s.username]+=r,e}),{});return console.log("taskPerMemberMap:",e),e}},components:{taskPerLabel:Dt,taskPerMember:Jt,todoPerMember:Qt}},Wt=Yt,qt=Object(b["a"])(Wt,Lt,It,!1,null,null,null),Vt=qt.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.boardList?s("section",{staticClass:"board-list-page"},[s("div",{staticClass:"board-list-container"},[s("h2",{staticClass:"hello"},[t._v("Hello "+t._s(t.user.username))]),t._m(0),s("board-list",{attrs:{boards:t.starredBoards},on:{"open-create-popup":t.openCreatePopup,"remove-board":t.removeBoard,"open-board":t.openBoard,"save-board":t.saveBoard}}),s("div",{staticClass:"board-list-layout headline"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.txt,expression:"filterBy.txt"}],attrs:{type:"text",placeholder:"Search boards..."},domProps:{value:t.filterBy.txt},on:{input:function(e){e.target.composing||t.$set(t.filterBy,"txt",e.target.value)}}})]),s("board-list",{attrs:{boards:t.recentBoards,starredBoards:t.starredBoards},on:{"open-create-popup":t.openCreatePopup,"remove-board":t.removeBoard,"open-board":t.openBoard,"save-board":t.saveBoard}}),t._m(2),s("board-list",{attrs:{boards:t.myBoards,starredBoards:t.starredBoards},on:{"open-create-popup":t.openCreatePopup,"remove-board":t.removeBoard,"open-board":t.openBoard,"save-board":t.saveBoard}}),t.isAddBoard?s("popup-create-board",{attrs:{isAddBoard:t.isAddBoard},on:{"close-board-popup":t.closeCreatePopup,"open-board":t.openBoard}}):t._e()],1)]):t._e()},Kt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",[s("span",{staticClass:"starred"}),t._v("Starred boards")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",[s("span",{staticClass:"recent"}),t._v("Recently viewed")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board-list-layout headline"},[s("h2",[s("span",{staticClass:"recent"}),t._v("My boards")])])}],Zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"container",staticClass:"popup"},[s("header",{ref:"header"},[t._t("header")],2),s("main",{ref:"main"},[t._t("main")],2),s("footer",{ref:"footer"},[t._t("footer")],2)])},te=[],ee={mounted:function(){var t=this;this.$nextTick((function(){var e=t.$refs.container.getBoundingClientRect().height;console.log("file: pop-up.vue - line 21 - this.$nextTick - containerHeight",e);var s=t.$refs.main,r=t.$refs.footer.getBoundingClientRect().height,a=t.$refs.header.getBoundingClientRect().height+25;s.style.maxHeight=e-(r+a)+"px",console.log("file: pop-up.vue - line 21 - this.$nextTick - containerHeight",e)}))},components:{}},se=ee,re=Object(b["a"])(se,Zt,te,!1,null,null,null),ae=re.exports,ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"create-board-screen",class:{"add-board":t.isAddBoard},on:{click:t.closeBoardPopup}}),s("div",{staticClass:"popup-create-board"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.createNewBoard(e)}}},[s("div",{staticClass:"new-board-info"},[s("div",{staticClass:"title-container",style:t.selectedStyle.style},[s("div",{staticClass:"top"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.boardToEdit.title,expression:"boardToEdit.title"}],staticClass:"title",attrs:{type:"text",placeholder:"Add board title"},domProps:{value:t.boardToEdit.title},on:{input:function(e){e.target.composing||t.$set(t.boardToEdit,"title",e.target.value)}}}),s("button",{staticClass:"btn close",on:{click:t.closeBoardPopup}},[t._v("X")])])]),s("ul",{staticClass:"clean-list bgStyle-list"},t._l(t.bgStyles,(function(e,r){return s("li",{key:"style"+r,staticClass:"bgStyle",class:{selected:t.isSelected(e.id)},style:e.style,on:{click:function(s){return t.selectStyle(e)}}})})),0)]),s("button",{staticClass:"btn create-board",class:{gray:!t.boardToEdit.title}},[t._v(" Create board ")])])])])},oe=[],ie=s("5530"),le=(s("7db0"),s("2ca0"),{props:{isAddBoard:Boolean},data:function(){return{selectedStyle:null,boardToEdit:null,isUseTemplate:!1,imgs:[{id:"i101",value:"1.jpg"},{id:"i102",value:"2.jpg"},{id:"i103",value:"3.jpg"},{id:"i104",value:"4.jpg"},{id:"i105",value:"5.jpg"}],colors:[{id:"c101",value:"#C10BB3"},{id:"c102",value:"#03A7BE"},{id:"c103",value:"#003152"},{id:"c104",value:"#8BCB8A"}]}},created:function(){this.boardToEdit=Object(ie["a"])({},this.$store.getters.emptyBoard),this.selectedStyle=this.bgStyles[0]},methods:{isSelected:function(t){return this.selectedStyle.id===t},getSelectedStyle:function(t){var e=this.imgs.find((function(e){var s=e.id;return s===t}));return e||(e=this.colors.find((function(e){var s=e.id;return s===t})),e)},createNewBoard:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.boardToEdit.title){e.next=2;break}return e.abrupt("return");case 2:return s=t.getSelectedStyle(t.selectedStyle.id),s.value.startsWith("#")?t.boardToEdit.style.bgColor=s:t.boardToEdit.style.bgImg=s,t.isUseTemplate&&(t.boardToEdit.groups=Object(ie["a"])({},Qa.getEmptyTemplate())),console.log("file: popup-create-board.vue - line 97 - createNewBoard - this.boardToEdit",t.boardToEdit),e.next=8,t.$store.dispatch({type:"saveBoard",board:t.boardToEdit});case 8:r=e.sent,t.$emit("open-board",r._id);case 10:case"end":return e.stop()}}),e)})))()},boardStyle:function(t){if(t.style.bgImg){var e=s("1096")("./"+t.style.bgImg.value);return{backgroundImage:"url(".concat(e,")")}}return{backgroundColor:t.style.bgColor.value}},selectStyle:function(t){this.selectedStyle=t},closeBoardPopup:function(){this.$emit("close-board-popup")}},computed:{bgStyles:function(){var t=this.imgs.map((function(t){var e=s("1096")("./"+t.value);return{id:t.id,style:{backgroundImage:"url(".concat(e,")")}}})),e=this.colors.map((function(t){return{id:t.id,style:{backgroundColor:t.value}}})),r=t.concat(e);return r}}}),ce=le,ue=Object(b["a"])(ce,ne,oe,!1,null,null,null),de=ue.exports,pe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.boards?s("ul",{staticClass:"clean-list board-list-layout"},[t._l(t.boards,(function(e){return s("li",{key:e._id,staticClass:"board-preview",style:t.boardStyle(e),on:{click:function(s){return t.openBoard(e._id)},mouseleave:function(e){return t.closeOptionsMenu()}}},[s("h3",[t._v(t._s(e.title))]),t.starredBoards?s("button",{staticClass:"btn options",on:{click:function(s){return s.stopPropagation(),t.toggleOptionsMenu(e)}}}):t._e(),t.isBoardSelected(e._id)?s("div",{staticClass:"nav-small"},[s("button",{on:{click:function(e){return e.stopPropagation(),t.removeBoard()}}},[t._v("Remove board")])]):t._e(),s("button",{class:t.starClass(e._id),on:{click:function(s){return s.stopPropagation(),t.toggleStarred(e)}}})])})),t.starredBoards?s("li",[s("button",{staticClass:"btn add-board icon plus",on:{click:t.openCreatePopup}})]):t._e()],2):t._e()},me=[],he={props:{boards:Array,starredBoards:Array},data:function(){return{selectedBoard:null}},methods:{starClass:function(t){return!this.starredBoards||this.starredBoards.some((function(e){var s=e._id;return s===t}))?"starred":"toggle-starred"},boardStyle:function(t){var e;if(null!==(e=t.style.bgImg)&&void 0!==e&&e.value){var r=s("1096")("./"+t.style.bgImg.value);return{backgroundImage:"url(".concat(r,")")}}return{backgroundColor:t.style.bgColor.value}},isBoardSelected:function(t){var e;return(null===(e=this.selectedBoard)||void 0===e?void 0:e._id)===t},openCreatePopup:function(){this.$emit("open-create-popup")},closeOptionsMenu:function(){this.selectedBoard=null},toggleStarred:function(t){t.isStarred=!t.isStarred,this.$emit("save-board",t)},removeBoard:function(){var t;this.$emit("remove-board",null===(t=this.selectedBoard)||void 0===t?void 0:t._id)},toggleOptionsMenu:function(t){var e;if((null===(e=this.selectedBoard)||void 0===e?void 0:e._id)===t._id)return this.selectedBoard=null;this.selectedBoard=JSON.parse(JSON.stringify(t))},openBoard:function(t){this.$emit("open-board",t)}}},be=he,ge=Object(b["a"])(be,pe,me,!1,null,null,null),fe=ge.exports,ve={data:function(){return{isAddBoard:!1,boardList:null,selectedStyle:null,filterBy:{txt:""}}},created:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"loadBoards"});case 2:t.boardList=e.sent,t.$store.commit("setBoard",{currBoard:null});case 4:case"end":return e.stop()}}),e)})))()},methods:{openCreatePopup:function(){this.isAddBoard=!0},closeCreatePopup:function(){this.isAddBoard=!1},openBoard:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"getBoard",boardId:t});case 2:e.$router.push("/board/"+t);case 3:case"end":return s.stop()}}),s)})))()},boardStyle:function(t){var e;if(null!==(e=t.style.bgImg)&&void 0!==e&&e.value){var r=s("1096")("./"+t.style.bgImg.value);return{backgroundImage:"url(".concat(r,")")}}return{backgroundColor:t.style.bgColor.value}},isSelected:function(t){return this.selectedStyle.id===t},removeBoard:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.$store.dispatch({type:"removeBoard",boardId:t});case 1:case"end":return s.stop()}}),s)})))()},saveBoard:function(t){console.log("board:",t),this.$store.dispatch("saveBoard",{board:t})}},computed:{starredBoards:function(){return this.boardList.filter((function(t){var e=t.isStarred;return e}))},recentBoards:function(){var t=this,e=this.boardList.filter((function(e){var s=e.title;return s.toLowerCase().includes(t.filterBy.txt.toLowerCase())}));return e.sort((function(t,e){return t.lastViewedAt-e.lastViewedAt}))},myBoards:function(){var t=this,e=this.boardList.filter((function(e){var s=e.createdBy;return s._id===t.user._id}));return e.sort((function(t,e){return t.lastViewedAt-e.lastViewedAt}))},user:function(){return this.$store.getters.loggedinUser}},components:{popup:ae,popupCreateBoard:de,boardList:fe}},ke=ve,ye=Object(b["a"])(ke,Xt,Kt,!1,null,null,null),Ce=ye.exports,we=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.board?s("section",{ref:"board",staticClass:"board-container"},[s("div",{staticClass:"board-bg",style:t.boardStyle}),s("board-header",{attrs:{board:t.board,boardStyle:t.boardStyle},on:{"toggle-board-menu":t.toggleBoardMenu}}),s("draggable",{staticClass:"clean-list main",attrs:{group:"group",animation:"150","empty-insert-threshold":"5",filter:".group-tasks-preview,textarea","prevent-on-filter":!1,draggable:".group",tag:"ul"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1,t.saveBoard()}},model:{value:t.board.groups,callback:function(e){t.$set(t.board,"groups",e)},expression:"board.groups"}},[t._l(t.board.groups,(function(e,r){return s("group",{key:e.id,attrs:{group:e,boardId:t.board._id,idx:r},on:{"save-board":t.saveBoard}})})),s("div",{staticClass:"add-new-group"},[t.isAddNewGroup?s("editable-text",{attrs:{type:"title",isEditFirst:!0,elementType:"group"},on:{"close-textarea":function(e){t.isAddNewGroup=!1},input:t.addGroup},model:{value:t.newGroup.title,callback:function(e){t.$set(t.newGroup,"title",e)},expression:"newGroup.title"}}):s("button",{staticClass:"group-addition",on:{click:function(e){t.isAddNewGroup=!0}}},[t._v(" + Add another list ")])],1)],2),s("board-menu",{class:{"show-menu":t.isOpenMenu},attrs:{boardStyle:t.boardStyle,board:t.board,activities:t.activities},on:{"toggle-board-menu":t.toggleBoardMenu}}),s("router-view")],1):t._e()},xe=[],je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"board-header",class:{"img-bg":t.isBoardOpen}},[s("div",{staticClass:"board-title"},[s("editableTitle",{model:{value:t.board.title,callback:function(e){t.$set(t.board,"title",e)},expression:"board.title"}}),s("button",{staticClass:"icon star",class:{"is-starred":this.board.isStarred},on:{click:t.toggleStarred}})],1),s("member-list",{staticClass:"board-header-members",attrs:{members:t.board.members,isTaskRelated:!1},on:{"remove-task-member":t.removeMember}}),s("button",{staticClass:"menu-btn white-btn",on:{click:t.toggleBoardMenu}},[s("span",{staticClass:"icon elipsis"}),t._v(" Show Menu ")])],1)},_e=[],Ae=(s("c740"),s("a434"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[t.isInTask?s("h4",{staticClass:"task-info-headline"},[t._v("Members")]):t._e(),s("div",{staticClass:"member-list-container"},[t.members&&t.members.length?s("div",[s("ul",{staticClass:"clean-list flex member-list"},[t._l(t.members,(function(e){return s("li",{key:e._id,on:{click:function(s){return t.toggleMemberDetails(s,e)}}},[s("member-preview",{attrs:{member:e},on:{"toggle-member-details":t.toggleMemberDetails}})],1)})),t.isInTask?s("li",{staticClass:"icon plus member-preview",on:{click:t.openMemberPopup}}):t._e()],2),t.isShowMemberDetails?s("popup-member-details",{attrs:{member:t.selectedMember,isTaskRelated:t.isTaskRelated},on:{"close-member-details":t.closeMemberDetails,"remove-task-member":t.removeTaskMember}}):t._e()],1):t._e(),t.isTaskRelated?t._e():s("button",{staticClass:"btn white-btn",on:{click:function(e){t.addBoardMember=!t.addBoardMember}}},[s("i",{staticClass:"icon plus",staticStyle:{"font-style":"normal"}}),t._v(" Add member ")]),t.addBoardMember?s("ul",{staticClass:"clean-list user-list"},t._l(t.filteredUsers,(function(e){return s("li",{key:e._id,on:{click:function(s){return t.assignBoardMember(e)}}},[s("member-preview",{attrs:{member:e}}),s("p",[t._v(t._s(e.fullname))])],1)})),0):t._e()])])}),Te=[],Oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pop-up",{staticClass:"member-details"},[s("div",{attrs:{slot:"main"},slot:"main"},[s("button",{staticClass:"btn close icon x",on:{click:t.closeMemberDetails}}),s("div",{staticClass:"member-details-container"},[s("member-preview",{staticClass:"member-initials",attrs:{member:t.member}}),s("div",{staticClass:"member-name"},[s("h2",[t._v(t._s(t.member.fullname))]),s("h3",[t._v("@"+t._s(t.member.username))])])],1),s("button",{staticClass:"btn remove",on:{click:function(e){return t.removeTaskMember(e,t.member._id)}}},[t._v(" "+t._s(t.btnText)+" ")])])])},Be=[],Ee={props:{member:Object,isTaskRelated:Boolean},computed:{btnText:function(){return this.isTaskRelated?"Remove from task":"Remove from group"}},methods:{closeMemberDetails:function(t){t.stopPropagation(),this.$emit("close-member-details")},removeTaskMember:function(t,e){t.stopPropagation(),this.$emit("remove-task-member",e)}},components:{popUp:ae,memberPreview:T}},Se=Ee,Le=Object(b["a"])(Se,Oe,Be,!1,null,null,null),Ie=Le.exports,Me={props:{members:Array,isTaskRelated:Boolean,isInTask:Boolean},data:function(){return{isShowMemberDetails:!1,selectedMember:null,addBoardMember:!1}},computed:{filteredUsers:function(){var t=this.$store.getters.currBoard.members,e=this.$store.getters.users.filter((function(e){return!t.some((function(t){return t._id===e._id}))}));return e}},methods:{toggleMemberDetails:function(t,e){t.stopPropagation(),this.selectedMember=e,this.isShowMemberDetails=!this.isShowMemberDetails},closeMemberDetails:function(){this.selectedMember=null,this.isShowMemberDetails=!1},removeTaskMember:function(t){this.$emit("remove-task-member",t),this.closeMemberDetails()},assignBoardMember:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(console.log("assigning board member"),r=JSON.parse(JSON.stringify(e.$store.getters.currBoard)),a=r.members.findIndex((function(e){return e._id===t._id})),!(a<0)){s.next=8;break}return r.members.push(t),s.next=7,e.$store.dispatch({type:"saveBoard",board:r});case 7:e.addBoardMember=!1;case 8:case"end":return s.stop()}}),s)})))()},removeBoardMember:function(t){console.log("file: member-list.vue - line 79 - removeBoardMember - id",t)},openMemberPopup:function(t){this.$emit("open-member-popup",t)}},components:{popupMemberDetails:Ie,memberPreview:T}},$e=Me,Pe=Object(b["a"])($e,Ae,Te,!1,null,null,null),Re=Pe.exports,De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrapper",staticClass:"editable-title-wrapper"},[t.value?s("h2",{ref:"title",staticClass:"editable-title",attrs:{contenteditable:"true",spellcheck:"false"},on:{blur:t.onBlur,focus:t.toggleWrapperFocus}},[t._v(" "+t._s(t.str)+" ")]):t._e()])},Ne=[],Ue={props:{value:String},data:function(){return{str:this.value}},methods:{onBlur:function(t){t.target.innerText?this.$emit("input",t.target.innerText):(this.$emit("input",this.value),t.target.innerText=this.value),this.toggleWrapperFocus()},toggleWrapperFocus:function(){this.$refs.wrapper.classList.toggle("focus")}}},He=Ue,Je=Object(b["a"])(He,De,Ne,!1,null,null,null),Fe=Je.exports,Ge={props:{board:Object,boardStyle:Object},data:function(){return{isBoardOpen:!1}},created:function(){var t=this.$route.params.boardId;if(t)return this.isBoardOpen=!0;this.isBoardOpen=!1},methods:{toggleStarred:function(){this.board.isStarred=!this.board.isStarred,this.$store.dispatch({type:"saveBoard",board:this.board})},toggleBoardMenu:function(){this.$emit("toggle-board-menu")},removeMember:function(t){var e=this.board.members.findIndex((function(e){return e._id===t}));e>=0&&(this.board.members.splice(e,1),this.$store.dispatch({type:"saveBoard",board:this.board}))}},computed:{starredClass:function(){var t="is-starred ";return t+=this.board.isStarred?"active":"unactive",t},saveBoard:function(){this.$store.dispatch({type:"saveBoard",board:this.board})}},watch:{"board.title":function(){this.saveBoard},"$route.params.boardId":function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t){s.next=2;break}return s.abrupt("return",e.isBoardOpen=!1);case 2:e.isBoardOpen=!0,e.$store.commit("setBoard",e.board);case 4:case"end":return s.stop()}}),s)})))()}},components:{editableTitle:Fe,memberList:Re}},ze=Ge,Qe=Object(b["a"])(ze,je,_e,!1,null,null,null),Ye=Qe.exports,We=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{ref:"group",staticClass:"group"},[s("div",{staticClass:"flex jcc aic space-between group-header"},[s("editableTitle",{on:{input:function(e){return t.saveGroup(t.group)}},model:{value:t.group.title,callback:function(e){t.$set(t.group,"title",e)},expression:"group.title"}}),s("button",{staticClass:"icon elipsis preview",staticStyle:{position:"relative"},on:{click:t.toggleEditMenu}},[t.menuOpen?s("popUp",{ref:"groupEdit",staticClass:"group-edit-popup",attrs:{tabindex:"0"},nativeOn:{blur:function(e){return t.editBlurHandler(e)}}},[s("template",{slot:"main"},[s("button",{staticClass:"btn neutral left-align group-edit-btn edit-color",on:{click:function(e){t.isEditing=!t.isEditing}}},[s("span",{staticClass:"icon cover"}),t._v(" Edit Group Color ")]),t.isEditing?s("div",[s("ul",{staticClass:"colors-list clean-list",attrs:{slot:"main"},slot:"main"},t._l(t.colorsPalette,(function(e,r){return s("li",{key:r},[s("div",{class:t.getEditColorClass(e),style:"background-color: "+e,on:{click:function(s){return t.saveGroupColor(e)}}})])})),0)]):t._e(),s("button",{staticClass:"btn neutral left-align group-edit-btn add-card",on:{click:function(e){t.isAddNewTask=!0}}},[s("span",{staticClass:"icon plus"}),t._v(" Add another card ")]),s("button",{staticClass:"btn neutral left-align group-edit-btn",on:{click:t.removeGroup}},[s("span",{staticClass:"icon archive"}),t._v(" Archive Group ")])])],2):t._e()],1)],1),s("div",{staticClass:"tasks-wrapper"},[s("draggable",{class:"clean-list group-tasks gt-"+this.idx,attrs:{group:"tasks",move:t.updateBoard,"empty-insert-threshold":50,draggable:".task-preview",tag:"ul","drag-class":"drag","ghost-class":"ghost"},on:{end:t.endDrag},model:{value:t.group.tasks,callback:function(e){t.$set(t.group,"tasks",e)},expression:"group.tasks"}},t._l(t.group.tasks,(function(e){return s("task-preview",{key:e.id,attrs:{task:e},on:{"remove-task":t.removeTask},nativeOn:{click:function(s){return t.openTask(e)}}})})),1)],1),s("div",{staticClass:"add-task"},[t.isAddNewTask?s("editable-text",{attrs:{type:"title",elementType:"task",isEditFirst:!0},on:{"close-textarea":function(e){t.isAddNewTask=!1},input:t.addTask},model:{value:t.newTask.title,callback:function(e){t.$set(t.newTask,"title",e)},expression:"newTask.title"}}):s("button",{on:{click:function(e){t.isAddNewTask=!0}}},[s("span",[t._v("+")]),t._v(" Add another card ")])],1),s("draggable",{class:"egt egt-"+this.idx,attrs:{group:"tasks",move:t.updateBoard,drop:t.updateBoard},model:{value:t.emptyList,callback:function(e){t.emptyList=e},expression:"emptyList"}})],1)},qe=[],Ve=(s("a9e3"),s("b76a")),Xe=s.n(Ve),Ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.task?s("section",{staticClass:"task-preview"},[t.menuOpen?s("div",{staticClass:"task-control-screen",on:{click:function(e){e.stopPropagation(),t.menuOpen=!1}}},[s("taskControl",{ref:"taskControl",attrs:{task:t.task,tabindex:"0"}})],1):t._e(),s("header",{staticStyle:{position:"relative"}},[t.task.style.coverColor?s("div",{staticClass:"task-cover-preview",style:"background-color: "+t.task.style.coverColor}):t._e(),t.task.style.coverImg?s("img",{staticClass:"task-cover-img-preview",attrs:{src:t.task.style.coverImg}}):t._e(),s("button",{staticClass:"btn edit icon pencil preview",on:{click:function(e){return e.stopPropagation(),t.openControls(e)}}})]),s("div",{staticClass:"task-preview-main"},[t.taskLabelIds?s("task-label-preview",{staticClass:"task-label-preview",attrs:{taskLabelIds:t.taskLabelIds}}):t._e(),s("div",[s("h2",{staticClass:"task-title"},[t._v(t._s(t.task.title))])]),s("div",{staticClass:"task-info-preview"},[s("div",{staticClass:"main-info-task-preview"},[t.task.duedate?s("div",{staticClass:"task-duedate-preview"},[s("span",{staticClass:"icon clock preview"}),t._v(" "+t._s(t.date.day)+" ")]):t._e(),t.isTaskDescription?s("div",{staticClass:"icon description preview"}):t._e(),t.attachmentCount?s("div",{staticClass:"attachment-info"},[s("span",{staticClass:"icon attachment preview"}),t._v(t._s(t.attachmentCount)+" ")]):t._e(),t.taskChecklists?s("div",{staticClass:"checklist-info"},[s("span",{staticClass:"icon checklist preview"}),t._v(t._s(t.taskChecklists.complete)+"/"+t._s(t.taskChecklists.total)+" ")]):t._e()]),s("div",{staticClass:"members-task-preview"},[t.taskMemebers?s("member-list",{attrs:{members:t.taskMemebers,isTaskRelated:!0},on:{"remove-task-member":t.removeTaskMember}}):t._e()],1)])],1)]):t._e()},Ze=[],ts=s("ade3"),es=(s("a4d3"),s("e01a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"clean-list label-preview",on:{click:t.toggleEnlargeLabels}},t._l(t.taskLabels,(function(e){return s("li",{key:e.id,staticClass:"preview-label",class:{"enlarged-label":t.isEnlarged},style:{"background-color":e.color}},[t.isEnlarged?s("span",[t._v(t._s(e.title))]):t._e()])})),0)}),ss=[],rs={props:{taskLabelIds:Array},data:function(){return{isEnlarged:!1}},methods:{toggleEnlargeLabels:function(t){t.stopPropagation(),this.isEnlarged=!this.isEnlarged}},computed:{boardLabels:function(){return this.$store.getters.currBoard.labels},taskLabels:function(){var t=this;if(!this.taskLabelIds)return[];var e=this.boardLabels.filter((function(e){return t.taskLabelIds.includes(e.id)}));return e}}},as=rs,ns=Object(b["a"])(as,es,ss,!1,null,null,null),os=ns.exports,is=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{class:t.computedClass(),on:{click:t.editDescription}},[t.isEditing?s("form",{on:{submit:function(e){return e.preventDefault(),t.setText(e)}}},[s("textarea",{ref:"input",attrs:{placeholder:t.placeholder},domProps:{value:t.value}}),s("div",{staticClass:"editable-text-controls"},[s("button",{staticClass:"btn action"},[t._v("Save")]),s("button",{staticClass:"icon x",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.closeTextarea(e)}}})])]):[t.value?s("p",{staticClass:"editable-text-display"},[t._v(t._s(t.value))]):s("p",{staticClass:"editable-text-display"},[t._v(" Enter a "+t._s(t.type)+" for this "+t._s(t.elementType)+"... ")])]],2)},ls=[],cs={props:{isEditFirst:Boolean,type:"",value:String,elementType:String},data:function(){return{isEditing:!1}},created:function(){this.isEditFirst&&(this.isEditing=this.isEditFirst)},methods:{editDescription:function(){this.isEditing=!0},setText:function(){var t=this.$refs.input.value;this.$emit("input",t),this.closeTextarea()},closeTextarea:function(){this.isEditing=!1,this.$emit("close-textarea")},computedClass:function(){var t="editable-text";return t+=this.isEditing?" open":" closed",t}},computed:{placeholder:function(){return"Enter a ".concat(this.type," for this ").concat(this.elementType,"..")}},mounted:function(){var t;null!==(t=this.$refs)&&void 0!==t&&t.input&&this.$refs.input.focus()}},us=cs,ds=Object(b["a"])(us,is,ls,!1,null,null,null),ps=ds.exports,ms=s("c1df"),hs=s.n(ms),bs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-control",on:{click:function(t){t.stopPropagation()}}},[s("button",{staticClass:"btn neutral left-align cover",on:{click:function(e){return t.togglePopup("Cover",e)}}},[s("span",{staticClass:"icon cover"}),t._v("Cover ")]),t.isCoverOpen?s("popup-cover",{ref:"Cover",attrs:{tabindex:"0"},on:{"toggle-popup":t.togglePopup,"set-cover-color":t.setCoverColor,"save-cover-img":t.saveCoverImg,"remove-cover":t.removeCover},nativeOn:{blur:function(e){return t.coverBlurHandler(e)}}}):t._e(),s("h6",{staticClass:"add-to-card"},[t._v("ADD TO CARD")]),s("button",{staticClass:"btn neutral left-align",on:{click:function(e){return t.togglePopup("Member",e)}}},[s("span",{staticClass:"icon member"}),t._v("Members ")]),t.isMemberOpen?s("popup-member",{ref:"Member",attrs:{task:t.task,tabindex:"0"},on:{"toggle-popup":function(e){t.isMemberOpen=!1},"remove-task-member":t.removeTaskMember,"assign-task-member":t.assignTaskMember}}):t._e(),s("button",{staticClass:"btn neutral left-align",on:{click:function(e){return t.togglePopup("Duedate",e)}}},[s("span",{staticClass:"icon clock"}),t._v("Due date ")]),t.isDuedateOpen?s("popup-duedate",{ref:"Duedate",attrs:{tabindex:"0"},on:{"toggle-popup":t.togglePopup,"save-date":t.saveDate},nativeOn:{blur:function(e){return t.duedateBlurHandler(e)}}}):t._e(),s("button",{staticClass:"btn neutral left-align",on:{click:function(e){return t.togglePopup("Checklist",e)}}},[s("span",{staticClass:"icon checklist"}),t._v("Checklist ")]),t.isChecklistOpen?s("popup-checklist",{ref:"Checklist",attrs:{tabindex:"0"},on:{"add-checklist":t.setChecklist,"toggle-popup":t.togglePopup},nativeOn:{blur:function(e){return t.checklistBlurHandler(e)}}}):t._e(),s("button",{staticClass:"btn neutral left-align",on:{click:function(e){return t.togglePopup("Label",e)}}},[s("span",{staticClass:"icon label"}),t._v("Labels ")]),t.isLabelOpen?s("popup-label",{ref:"Label",attrs:{tabindex:"0",task:t.task},on:{"set-task-labels":t.setTaskLabels,"toggle-popup":t.togglePopup},nativeOn:{blur:function(e){return t.labelBlurHandler(e)}}}):t._e(),s("button",{staticClass:"btn neutral left-align",on:{click:function(e){return t.togglePopup("Attachment",e)}}},[s("span",{staticClass:"icon attachment"}),t._v("Attachement ")]),t.isAttachmentOpen?s("popup-attachment",{ref:"Attachment",attrs:{attachments:t.task.attachments,tabindex:"0"},on:{"save-attachments":t.saveAttachments,"toggle-popup":t.togglePopup},nativeOn:{blur:function(e){return t.attachmentBlurHandler(e)}}}):t._e(),s("button",{staticClass:"btn neutral left-align",on:{click:t.removeTask}},[s("span",{staticClass:"icon archive"}),t._v(" Archive ")])],1)},gs=[],fs=(s("fb6a"),{saveToStorage:js,loadFromStorage:_s,makeId:vs,capitalize:ks,debounce:ys,stringToHslColor:Cs,getFilename:ws,getRandomIntInclusive:xs});function vs(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<t;r++)e+=s.charAt(Math.floor(Math.random()*s.length));return e}function ks(t){var e=t.split(" ");return console.log(" ~ file: util.service.js ~ line 17 ~ capitalize ~ words",e),e.map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ")}function ys(t,e,s){var r,a=this;return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var l=t.bind.apply(t,[a].concat(o));clearTimeout(r),s&&!r&&l();var c=s?function(){r=null}:l;r=setTimeout(c,e)}}function Cs(t,e,s){for(var r=0,a=0;a<t.length;a++)r=t.charCodeAt(a)+((r<<5)-r);var n=r%360;return"hsl("+n+", "+e+"%, "+s+"%)"}function ws(t){var e=t.split("?");e.length>1?(e.pop(),t=e[0]):t=e.pop();var s=t.split("/").pop();return s}function xs(t,e){return Math.floor(Math.random()*(e-t+1))+t}function js(t,e){sessionStorage.setItem(t,JSON.stringify(e)||null)}function _s(t){var e=sessionStorage.getItem(t);return e?JSON.parse(e):void 0}var As=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pop-up",{staticClass:"popup-cover"},[s("div",{staticClass:"task-popup-header",attrs:{slot:"header"},slot:"header"},[s("h2",[t._v("Cover")]),s("button",{staticClass:"btn close icon x",on:{click:t.togglePopup}})]),s("div",{attrs:{slot:"main"},slot:"main"},[s("h3",[t._v("COLORS")]),s("ul",{staticClass:"colors-list clean-list"},t._l(t.colorsPalette,(function(e,r){return s("li",{key:r},[s("div",{staticClass:"color-box btn",style:"background-color: "+e,on:{click:function(s){return t.setCover(e)}}})])})),0),s("button",{staticClass:"btn wide neutral remove-cover",on:{click:t.removeCover}},[t._v("Remove cover")]),s("h3",[t._v("ATTACHMENTS")]),s("button",{staticClass:"btn neutral wide upload-cover-btn"},[t._v(" Upload a cover image "),t.isLoading?s("img",{staticClass:"loading",attrs:{src:"https://raw.githubusercontent.com/SamHerbert/SVG-Loaders/5deed925369e57e9c58ba576ce303466984db501/svg-loaders/oval.svg"}}):t._e(),s("input",{staticClass:"cover-upload-input",attrs:{type:"file"},on:{change:t.onUploadCover}})]),s("p",[t._v("Tip:Drag an image on to the card to upload it.")])])])},Ts=[],Os={data:function(){return{isLoading:!1,colorsPalette:["#7bc86c","#f5dd29","#ffaf3f","#ef7564","#cd8de5","#5ba4cf","#29cce5","#6deca9","#ff8ed4","#172b4d"]}},computed:{},methods:{setCover:function(t){this.$emit("set-cover-color",t)},search:function(){},togglePopup:function(){this.$emit("toggle-popup","Cover")},onUploadCover:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.isLoading=!0,s.next=3,X(t.target.files[0]);case 3:r=s.sent,e.$emit("save-cover-img",r),console.log("onUploadImg -> res",r),e.isLoading=!1;case 7:case"end":return s.stop()}}),s)})))()},removeCover:function(){console.log("hi"),this.$emit("remove-cover")}},components:{popUp:ae}},Bs=Os,Es=Object(b["a"])(Bs,As,Ts,!1,null,null,null),Ss=Es.exports,Ls=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pop-up",{staticClass:"popup-member"},[s("div",{staticClass:"task-popup-header",attrs:{slot:"header"},slot:"header"},[s("h2",[t._v("Members")]),s("button",{staticClass:"btn close icon x",on:{click:t.togglePopup}})]),s("div",{staticClass:"task-popup-main",attrs:{slot:"main"},slot:"main"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchStr,expression:"searchStr"}],staticClass:"search-member",attrs:{type:"text",placeholder:"Search for members..."},domProps:{value:t.searchStr},on:{blur:t.inputBlurHandler,input:function(e){e.target.composing||(t.searchStr=e.target.value)}}}),t.memberList?s("ul",{staticClass:"clean-list"},t._l(t.memberList,(function(e){return s("li",{key:e._id,staticClass:"member-details",class:{"member-selected":t.isSelected(e._id)},on:{click:function(s){return t.toggleAddMember(e)}}},[s("member-preview",{attrs:{member:e}}),s("h4",{staticClass:"member-name"},[t._v(t._s(e.fullname)),s("span")])],1)})),0):t._e()])])},Is=[],Ms={props:{task:Object},data:function(){return{searchStr:"",boardMembers:null,taskMembers:null}},created:function(){this.taskMembers=JSON.parse(JSON.stringify(this.task.members))||[]},methods:{togglePopup:function(){this.$emit("toggle-popup","Member")},isSelected:function(t){var e=this.taskMembers;if(e)return e.some((function(e){var s=e._id;return s===t}))},toggleAddMember:function(t){if(this.taskMembers||(this.taskMembers=[]),this.isSelected(t._id)){var e=this.taskMembers.findIndex((function(e){var s=e._id;return s===t._id}));this.taskMembers.splice(e,1),this.$emit("remove-task-member",t._id)}else this.taskMembers.push(t),this.$emit("assign-task-member",t)},inputBlurHandler:function(t){t.relatedTarget||this.$emit("toggle-popup","Member")}},computed:{memberList:function(){var t=this,e=this.$store.getters.currBoard.members;return e.filter((function(e){return e.fullname.toLowerCase().includes(t.searchStr.toLowerCase())}))}},components:{popUp:ae,memberPreview:T}},$s=Ms,Ps=Object(b["a"])($s,Ls,Is,!1,null,null,null),Rs=Ps.exports,Ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pop-up",{staticClass:"popup-checklist"},[s("div",{staticClass:"task-popup-header",attrs:{slot:"header"},slot:"header"},[s("h2",[t._v("Add Checklist")]),s("button",{staticClass:"btn close icon x",on:{click:t.togglePopup}})]),s("div",{attrs:{slot:"main"},slot:"main"},[s("h3",[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.checklist.title,expression:"checklist.title"}],staticClass:"checklist-title",attrs:{type:"text",name:"title"},domProps:{value:t.checklist.title},on:{input:function(e){e.target.composing||t.$set(t.checklist,"title",e.target.value)}}}),s("button",{staticClass:"btn action narrow checklist-add",on:{click:t.addChecklist}},[t._v(" Add ")])])])},Ns=[],Us={data:function(){return{checklist:{title:"",todos:[]}}},methods:{addChecklist:function(){this.$emit("add-checklist",Object(ie["a"])({},this.checklist)),this.checklist={title:""}},togglePopup:function(){this.$emit("toggle-popup","Checklist")}},components:{popUp:ae}},Hs=Us,Js=Object(b["a"])(Hs,Ds,Ns,!1,null,null,null),Fs=Js.exports,Gs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pop-up",{staticClass:"popup-attachment"},[s("div",{staticClass:"task-popup-header",attrs:{slot:"header"},slot:"header"},[s("h2",[t._v("Attach from...")]),s("button",{staticClass:"btn close icon x",on:{click:t.togglePopup}})]),s("div",{attrs:{slot:"main"},slot:"main"},[s("button",{staticClass:"btn file-upload"},[t._v(" Computer "),s("input",{staticClass:"file-upload-input",attrs:{type:"file"},on:{change:t.onUploadImg}})]),s("form",{on:{submit:function(e){return e.preventDefault(),t.saveAttachment(e)}}},[s("h3",[t._v("Attach a link")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"url-input",attrs:{type:"text",placeholder:"Paste any link here..."},domProps:{value:t.url},on:{change:t.toggleAddName,input:function(e){e.target.composing||(t.url=e.target.value)}}}),t.url?s("div",[s("h3",[t._v("Link name (optional)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newAttachment.title,expression:"newAttachment.title"}],staticClass:"url-name-input",attrs:{type:"text"},domProps:{value:t.newAttachment.title},on:{input:function(e){e.target.composing||t.$set(t.newAttachment,"title",e.target.value)}}})]):t._e(),s("button",{staticClass:"btn neutral narrow attachment-add"},[t._v("Attach")])])])])},zs=[],Qs=s("2909"),Ys={props:{attachments:Array},data:function(){return{isLoading:!1,url:null,newAttachment:{id:null,title:"",url:null,createdAt:null}}},methods:{onUploadImg:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isLoading=!0,r=t.target.files[0],s.next=5,X(r);case 5:a=s.sent,e.isLoading=!1,e.saveAttachment(a),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),console.log("Couldn't load image");case 13:return s.prev=13,e.$emit("not-drag-over"),s.finish(13);case 16:case"end":return s.stop()}}),s,null,[[0,10,13,16]])})))()},saveAttachment:function(t){if(this.url){this.setAttachmentDetails(t);var e=Object(Qs["a"])(this.attachments);e.push(this.newAttachment),this.$emit("save-attachments",e)}},setAttachmentDetails:function(t){this.newAttachment.id=fs.makeId(),this.url?(this.newAttachment.url=this.url,this.newAttachment.title||(this.newAttachment.title=fs.getFilename(this.url)),console.log(this.newAttachment.title)):(this.newAttachment.url=t.url,this.newAttachment.title="".concat(t.original_filename,".").concat(t.format)),this.newAttachment.createdAt=Date.now()},togglePopup:function(){this.$emit("toggle-popup","Attachment")},toggleAddName:function(){}},components:{popUp:ae}},Ws=Ys,qs=Object(b["a"])(Ws,Gs,zs,!1,null,null,null),Vs=qs.exports,Xs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("pop-up",{staticClass:"popup popup-duedate"},[s("div",{staticClass:"task-popup-header",attrs:{slot:"header"},slot:"header"},[s("h2",[t._v("Change due date")]),s("button",{staticClass:"btn close",on:{click:t.togglePopup}},[t._v("X")])]),s("div",{attrs:{slot:"main"},slot:"main"},[s("datepicker",{attrs:{inline:!0},on:{selected:t.setDate,opened:t.setTodayValue}}),s("div",{staticClass:"date-input-container"},[s("input",{attrs:{type:"checkbox"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.date.day,expression:"date.day"}],attrs:{type:"text"},domProps:{value:t.date.day},on:{input:function(e){e.target.composing||t.$set(t.date,"day",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.date.hour,expression:"date.hour"}],attrs:{type:"text"},domProps:{value:t.date.hour},on:{input:function(e){e.target.composing||t.$set(t.date,"hour",e.target.value)}}})]),s("button",{staticClass:"btn duedate-submit",on:{click:t.saveDate}},[t._v("Save")])],1)])},Ks=[],Zs=s("fa33"),tr={data:function(){return{date:{timestamp:"",day:"",hour:""}}},methods:{setDate:function(t){this.date.timestamp=hs()(t,"M/D/YYYY hh:mm a").format("X"),this.date.day=hs()(t).format("M/D/YYYY "),this.date.hour=hs()(t).format("h:mm:ss A")},togglePopup:function(){this.$emit("toggle-popup","Duedate")},setTodayValue:function(){this.date=hs()(Date.now()).format("M-D-YYYY h:mm:ss A")},saveDate:function(){this.$emit("save-date",this.date.timestamp)}},components:{popUp:ae,Datepicker:Zs["a"]}},er=tr,sr=Object(b["a"])(er,Xs,Ks,!1,null,null,null),rr=sr.exports,ar=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isPopupEdit?s("popup-label-edit",{attrs:{action:t.action,label:t.selectedLabel,leftPos:t.leftPos},on:{"save-label":t.saveLabel,closeLabelEdit:t.closeLabelEdit,"remove-board-label":t.removeBoardLabel}}):s("pop-up",{staticClass:"popup-label",style:{left:t.leftPos},on:{blur:function(e){return t.console.log("wtf")}}},[s("div",{staticClass:"task-popup-header",attrs:{slot:"header"},slot:"header"},[s("h2",[t._v("Labels")]),s("button",{staticClass:"btn close icon x",on:{click:function(e){return t.togglePopupLabel()}}})]),s("div",{attrs:{slot:"main"},slot:"main"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchStr,expression:"searchStr"}],staticClass:"search-label",attrs:{type:"search",placeholder:"Search labels..."},domProps:{value:t.searchStr},on:{input:[function(e){e.target.composing||(t.searchStr=e.target.value)},t.searchLabel]}}),t.boardLabels?s("ul",{staticClass:"clean-list label-list"},t._l(t.boardLabels,(function(e){return s("li",{key:e.id,staticClass:"flex align-center label-preview"},[s("button",{staticClass:"btn label label-color",class:{"label-in-use":t.isUsed(e.id)},style:"background-color:"+e.color+";color:$clr1;",on:{click:function(s){return t.toggleSelectLabel(e.id)}}},[t._v(" "+t._s(e.title)+" "),t.isUsed(e.id)?s("span",{staticClass:"icon v"}):t._e()]),s("button",{staticClass:"btn edit-label icon pencil",on:{click:function(s){return t.openLabelEdit("Change",e)}}})])})),0):t._e(),s("button",{staticClass:"btn neutral wide",on:{click:function(e){return t.openLabelEdit("Create")}}},[t._v(" Create a new label ")])])])},nr=[],or=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"label-edit"},[t.isDelete?s("pop-up",{style:{left:t.leftPos}},[s("div",{staticClass:"task-popup-header",attrs:{slot:"header"},slot:"header"},[s("h2",[t._v("Delete Label?")]),s("button",{staticClass:"btn close icon x",on:{click:t.toggleIsDelete}})]),s("div",{attrs:{slot:"main"},slot:"main"},[s("p",[t._v(" Do you really want to remove this label for good? It will be removed from all cards. ")]),s("button",{staticClass:"btn warning narrow",on:{click:t.removeBoardLabel}},[t._v(" Delete ")])])]):s("pop-up",{style:{left:t.leftPos}},[s("div",{staticClass:"task-popup-header",attrs:{slot:"header"},slot:"header"},[s("h2",[t._v(t._s(t.action)+" label")]),s("button",{staticClass:"btn close icon x",on:{click:t.closeLabelEdit}})]),s("div",{attrs:{slot:"main"},slot:"main"},[s("h3",[t._v("Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.labelToEdit.title,expression:"labelToEdit.title"}],attrs:{type:"text"},domProps:{value:t.labelToEdit.title},on:{input:function(e){e.target.composing||t.$set(t.labelToEdit,"title",e.target.value)}}}),s("ul",{staticClass:"clean-list label-color-list"},t._l(t.colors,(function(e,r){return s("li",{key:"c"+r,staticClass:"label-color"},[s("button",{staticClass:"btn color",class:{"color-in-use":e.selected},style:{"background-color":e.color},on:{click:function(s){return t.setLabelColor(e.color)}}})])})),0),s("div",{staticClass:"btn-container"},[s("button",{staticClass:"btn action narrow",on:{click:t.saveLabel}},[t._v("Save")]),s("button",{staticClass:"btn warning narrow",on:{click:t.toggleIsDelete}},[t._v(" Delete ")])])])])],1)},ir=[],lr=(s("159b"),{props:{label:Object,action:String,leftPos:String},data:function(){return{colors:[{color:"#61bd4f",selected:!1},{color:"#f2d600",selected:!1},{color:"#ff9f1a",selected:!1},{color:"#eb5a46",selected:!1},{color:"#c377e0",selected:!1},{color:"#0079bf",selected:!1},{color:"#00c2e0",selected:!1},{color:"#51e898",selected:!1},{color:"#ff78cb",selected:!1},{color:"#344563",selected:!1}],labelToEdit:null,isDelete:!1}},created:function(){this.label?this.labelToEdit=Object(ie["a"])({},this.label):this.labelToEdit={id:fs.makeId(),color:this.colors[0].color,title:""},this.label&&this.setSelectedColor(this.label.color)},methods:{closeLabelEdit:function(){this.$emit("closeLabelEdit")},setLabelColor:function(t){this.setSelectedColor(t),this.labelToEdit.color=t},setSelectedColor:function(t){this.colors.forEach((function(e){return e.selected=e.color===t}))},saveLabel:function(){this.labelToEdit.id=fs.makeId(),this.$emit("save-label",this.labelToEdit)},toggleIsDelete:function(){this.isDelete=!this.isDelete},removeBoardLabel:function(){this.toggleIsDelete(),this.$emit("remove-board-label",this.labelToEdit.id),this.closeLabelEdit()}},computed:{},components:{popUp:ae}}),cr=lr,ur=Object(b["a"])(cr,or,ir,!1,null,null,null),dr=ur.exports,pr={props:{task:Object},data:function(){return{isPopupEdit:!1,action:"",selectedLabel:null,searchStr:""}},methods:{searchLabel:function(){console.log("FINISH ME!!! (search label)")},toggleSelectLabel:function(t){if(this.taskLabelIdEdit.includes(t)){var e=this.taskLabelIdEdit.findIndex((function(e){return e===t}));this.taskLabelIdEdit.splice(e,1)}else this.taskLabelIdEdit.push(t);this.$emit("set-task-labels",{labelIds:this.taskLabelIdEdit}),this.$forceUpdate()},isUsed:function(t){var e=this.taskLabelIdEdit.find((function(e){return e===t}));return!!e},openLabelEdit:function(t,e){this.selectedLabel=e,this.action=t,this.isPopupEdit=!0},closeLabelEdit:function(){this.isPopupEdit=!this.isPopupEdit},togglePopupLabel:function(){this.$emit("toggle-popup","Label")},saveLabel:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.selectedLabel?(r=t.color,a=t.title,e.selectedLabel.color=r,e.selectedLabel.title=a):e.boardLabels.push(t),s.next=3,e.$store.dispatch({type:"saveBoardLabels",labels:e.boardLabels});case 3:e.closeLabelEdit();case 4:case"end":return s.stop()}}),s)})))()},removeBoardLabel:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=e.boardLabels.findIndex((function(e){return e.id===t})),r>=0&&e.boardLabels.splice(r,1),s.next=4,e.$store.dispatch({type:"saveBoardLabels",labels:e.boardLabels});case 4:case"end":return s.stop()}}),s)})))()}},computed:{boardLabels:function(){var t=this,e=this.$store.getters.currBoard.labels;return e.filter((function(e){return e.title.toLowerCase().includes(t.searchStr.toLowerCase())}))},taskLabelIdEdit:function(){var t=this.task.labelIds;return t?Object(Qs["a"])(t):[]},leftPos:function(){return"".concat(this.popupLeftPos,"px")}},components:{popUp:ae,popupLabelEdit:dr}},mr=pr,hr=Object(b["a"])(mr,ar,nr,!1,null,null,null),br=hr.exports,gr={props:{task:Object},data:function(){return{isCoverOpen:!1,isMemberOpen:!1,isLabelOpen:!1,isChecklistOpen:!1,isAttachmentOpen:!1,isDuedateOpen:!1}},computed:{user:function(){return this.$store.getters.loggedinUser}},methods:{togglePopup:function(t,e){var s=this,r="is".concat(t,"Open");if(this[r]=!this[r],e){var a=e.target.getBoundingClientRect(),n=window.innerHeight-a.bottom-20,o=a.bottom+3,i=a.left;this.$nextTick((function(){var e,r=null===(e=s.$refs[t])||void 0===e?void 0:e.$el;if(r){var l=r.getBoundingClientRect().height;r.style.left=i+"px",l+o>window.innerHeight?(console.log("Place popup above button"),r.style.bottom=window.innerHeight-a.top+"px",console.log("file: task-control.vue - line 171 - this.$nextTick - targetRect.top",a.top),r.style.maxHeight=a.top+"px"):(r.style.top=o+"px",r.style.maxHeight=n+"px"),r.focus()}}))}},checklistBlurHandler:function(t){if(t.relatedTarget){var e=Array.from(t.relatedTarget.classList);e.includes("popup-checklist")||e.includes("checklist-title")||e.includes("checklist-add")?t.relatedTarget.focus():this.togglePopup("Checklist")}else this.togglePopup("Checklist")},coverBlurHandler:function(t){if(Array.from(document.activeElement.classList).includes("popup")&&(this.togglePopup("Cover"),t.target.focus()),t.relatedTarget){var e=Array.from(t.relatedTarget.classList);e.includes("cover-upload-input")||e.includes("popup")?t.relatedTarget.focus():this.togglePopup("Cover")}else this.togglePopup("Cover")},attachmentBlurHandler:function(t){if(Array.from(document.activeElement.classList).includes("popup")&&(this.togglePopup("Attachment"),t.target.focus()),t.relatedTarget){var e=Array.from(t.relatedTarget.classList);e.includes("url-input")||e.includes("attachment-add")?t.relatedTarget.focus():this.togglePopup("Attachment")}else this.togglePopup("Attachment")},labelBlurHandler:function(t){if(t.relatedTarget){var e=Array.from(t.relatedTarget.classList);e.includes("edit-label")||e.includes("search-label")||e.includes("label-color")?t.relatedTarget.focus():this.togglePopup("Label")}else this.togglePopup("Label")},duedateBlurHandler:function(t){if(t.relatedTarget){var e=Array.from(t.relatedTarget.classList);e.includes("duedate-submit")?t.relatedTarget.focus():this.togglePopup("Duedate")}else this.togglePopup("Duedate")},memberBlurHandler:function(t){if(t.relatedTarget){var e=Array.from(t.relatedTarget.classList);e.includes("search-member")?t.relatedTarget.focus():this.togglePopup("Member")}else this.togglePopup("Member")},setChecklist:function(t){var e=this.task;t.id=fs.makeId(),e.checklists.push(t),this.saveTask({task:e}),this.togglePopup("Checklist")},saveTask:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.task,a=t.activityType,s.next=3,e.$store.dispatch({type:"saveTask",task:r,activityType:a});case 3:case"end":return s.stop()}}),s)})))()},setCoverColor:function(t){this.task.style.coverImg="",this.task.style.coverColor=t,this.saveTask({task:this.task,activityType:"Cover-color was set on task: '".concat(this.task.title,"' by: ").concat(this.user.fullname)})},saveCoverImg:function(t){this.task.style.coverColor="",this.task.style.coverImg=t.url,this.saveTask({task:this.task,activityType:"Cover-image was set on task: '".concat(this.task.title,"' by: ").concat(this.user.fullname)})},removeCover:function(){this.task.style.coverImg="",this.task.style.coverColor="",this.saveTask({task:this.task,activityType:"Cover on task: '".concat(this.task.title,"' was removed by: ").concat(this.user.fullname)})},assignTaskMember:function(t){this.task.members||(this.task.members=[]),this.task.members.push(t),this.saveTask({task:this.task,activityType:"".concat(t.fullname," was assigned to task: '").concat(this.task.title,"' by: ").concat(this.user.fullname)})},removeTaskMember:function(t){var e=this.task.members.findIndex((function(e){var s=e._id;return s===t}));if(!(e<0)){var s=this.task.members.splice(e,1);this.saveTask({task:this.task,activityType:"".concat(s[0].fullname," was removed from task: '").concat(this.task.title,"' by: ").concat(this.user.fullname)})}},saveChecklist:function(t){var e=this.task;this.checklist.id=fs.makeId(),e.checklists.push(t),this.saveTask({task:this.task,activityType:"Checklist was set on task: '".concat(this.task.title,"' by: ").concat(this.user.fullname)})},setTaskLabels:function(t){var e=t.labelIds;this.task.labelIds=e,this.saveTask({task:this.task,activityType:"Task '".concat(this.task.title,"'s' labels were set by: ").concat(this.user.fullname)})},saveDate:function(t){this.task.duedate=t,this.togglePopup("Duedate"),this.saveTask(this.task),this.saveTask({task:this.task,activityType:"Date was set on task: '".concat(this.task.title,"' by: ").concat(this.user.fullname)})},saveAttachments:function(t){this.task.attachments=t,console.log(t),this.saveTask(this.task),this.saveTask({task:this.task,activityType:"Task '".concat(this.task.title,"'s' attachments were set by: ").concat(this.user.fullname)})},removeTask:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"removeTask",taskId:t.task.id,activityType:"Task '".concat(t.task.title," was deleted by: ").concat(t.user.fullname)});case 2:s=t.$route.params.taskId,r=t.$route.params.boardId,s&&t.$router.push("/board/"+r);case 5:case"end":return e.stop()}}),e)})))()}},components:{popupCover:Ss,popupMember:Rs,popupChecklist:Fs,popupAttachment:Vs,popupDuedate:rr,popupLabel:br}},fr=gr,vr=Object(b["a"])(fr,bs,gs,!1,null,null,null),kr=vr.exports,yr={props:{task:Object},data:function(){return{menuOpen:!1,isEditing:!1}},methods:{removeTask:function(t){t.stopPropagation(),this.$emit("remove-task",this.task.id)},removeTaskMember:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(r=e.task.members.findIndex((function(e){var s=e._id;return s===t})),!(r<0)){s.next=3;break}return s.abrupt("return");case 3:return a=JSON.parse(JSON.stringify(e.task)),a.members.splice(r,1),s.next=7,e.$store.dispatch({type:"saveTask",task:a});case 7:case"end":return s.stop()}}),s)})))()},openControls:function(t){var e=this;this.menuOpen=!this.menuOpen,this.$nextTick((function(){var s,r=t.target.getBoundingClientRect(),a=null===(s=e.$refs.taskControl)||void 0===s?void 0:s.$el;if(a){var n=a.getBoundingClientRect().height;r.bottom+n<window.innerHeight?a.style.top=r.bottom+"px":(a.style.top=r.top-n+"px",console.log("file: task-preview.vue - line 120 - this.$nextTick - elControl.style.bottom",a.style.bottom)),a.style.left=r.right+"px",a.focus()}}))},controlBlurHandler:function(t){Array.from(t.target.classList).includes("task-control")?t.target.focus():this.menuOpen=!1}},computed:Object(ts["a"])({isTaskDescription:function(){return this.task.description},attachmentCount:function(){var t;return null===(t=this.task.attachment)||void 0===t?void 0:t.length},date:function(){var t=this.task.duedate,e=hs.a.unix(t).format("MMM D"),s={day:e};return s},taskMemebers:function(){var t;return!(null===(t=this.task.members)||void 0===t||!t.length)&&this.task.members},taskLabelIds:function(){var t;return!(null===(t=this.task.labelIds)||void 0===t||!t.length)&&this.task.labelIds},taskChecklists:function(){if(this.task.checklists){var t=this.task.checklists.reduce((function(t,e){return t.complete+=e.todos.filter((function(t){return t.isDone})).length,t.total+=e.todos.length,t}),{total:0,complete:0});if(t.total)return t}}},"attachmentCount",(function(){return this.task.attachments.length})),components:{taskLabelPreview:os,memberList:Re,taskControl:kr}},Cr=yr,wr=Object(b["a"])(Cr,Ke,Ze,!1,null,null,null),xr=wr.exports,jr={props:{group:Object,boardId:String,idx:Number},data:function(){return{newTask:JSON.parse(JSON.stringify(this.$store.getters.getEmptyTask)),isAddNewTask:!1,ghostRect:null,emptyList:[],menuOpen:!1,isEditing:!1,colorsPalette:["#7bc86c","#f5dd29","#ffaf3f","#ef7564","#cd8de5","#5ba4cf","#29cce5","#6deca9","#ff8ed4","#172b4d"]}},mounted:function(){this.setGroupColor()},computed:{user:function(){return this.$store.getters.loggedinUser}},methods:{openTask:function(t){t=JSON.parse(JSON.stringify(t)),this.$store.commit({type:"setCurrTask",task:t}),this.$router.push("/board/".concat(this.boardId,"/").concat(t.id))},addTask:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newTask.title){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$store.dispatch({type:"saveTask",groupId:t.group.id,task:t.newTask,activityType:"A new task was added: '".concat(t.newTask.title,"' by ").concat(t.user.fullname)});case 4:t.newTask=JSON.parse(JSON.stringify(t.$store.getters.getEmptyTask)),t.isAddNewTask=!1;case 6:case"end":return e.stop()}}),e)})))()},removeTask:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"removeTask",taskId:t});case 2:case"end":return s.stop()}}),s)})))()},saveGroup:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"saveGroup",group:t});case 2:case"end":return s.stop()}}),s)})))()},removeGroup:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("removing group"),e.next=3,t.$store.dispatch({type:"removeGroup",groupId:t.group.id});case 3:case"end":return e.stop()}}),e)})))()},updateBoard:function(t){if(t.to.classList.contains("egt")){var e=Array.from(t.to.classList),s=e.find((function(t){return t.includes("egt-")}));s=s.charAt(s.length-1);var r=".gt-"+s,a=document.querySelector(r);return a.appendChild(t.dragged),!1}},saveGroupColor:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.group.style={bgColor:{value:t,id:fs.makeId()}},s.next=3,e.saveGroup(e.group);case 3:e.setGroupColor();case 4:case"end":return s.stop()}}),s)})))()},setGroupColor:function(){var t,e=this.$refs.group,s=(null===(t=this.group.style.bgColor)||void 0===t?void 0:t.value)||"#ebecf0";e.style.setProperty("--bgColor",s)},toggleEditMenu:function(){var t=this;this.menuOpen=!this.menuOpen,this.menuOpen&&this.$nextTick((function(){t.$refs.groupEdit.$el.focus()}))},editBlurHandler:function(t){var e=this,s=function(){e.menuOpen=!1,e.isEditing=!1};if(t.relatedTarget){var r=Array.from(t.relatedTarget.classList);r.includes("group-edit-btn")&&(t.target.focus(),r.includes("add-card")?(this.isAddNewTask=!0,s()):r.includes("edit-color")||(this.removeGroup(),s()))}else s()},getEditColorClass:function(t){var e,s="color-box btn";return t===(null===(e=this.group.style.bgColor)||void 0===e?void 0:e.value)&&(s+=" active"),s},endDrag:function(t){this.$emit("save-board")}},components:{taskPreview:xr,editableText:ps,draggable:Xe.a,editableTitle:Fe,popUp:ae,popupCover:Ss}},_r=jr,Ar=Object(b["a"])(_r,We,qe,!1,null,null,null),Tr=Ar.exports,Or=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board-menu"},[t.isMainMenu?s("board-menu-popup",{on:{"toggle-board-menu":t.toggleBoardMenu}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("h2",{staticClass:"headline"},[t._v("Menu")])]),s("div",{staticClass:"main-part",attrs:{slot:"main"},slot:"main"},[s("ul",{staticClass:"clean-list board-menu-options"},[s("li",{staticClass:"board-menu-layout",on:{click:t.toggleDashboard}},[s("div",{staticClass:"icon dashboard"}),s("button",[t._v("Dashboard")])]),s("li",{staticClass:"board-menu-layout",on:{click:t.toggleStylePicker}},[s("div",{staticClass:"thumbnail",style:t.boardStyle}),s("button",[t._v("Change background")])])]),s("div",{staticClass:"board-menu-layout"},[s("div",{staticClass:"icon list"}),s("h3",[t._v("Activity")])]),s("activity-list",{staticClass:"activity-list",attrs:{activities:t.activities,layoutClass:"board-menu-layout"}})],1)]):s("board-menu-style",{attrs:{board:t.board},on:{"toggle-board-menu":t.toggleBoardMenu,"open-board-menu":t.openBoardMenu}})],1)},Br=[],Er=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"board-menu-popup"},[s("header",{ref:"header"},[s("button",{staticClass:"btn close icon x",on:{click:t.toggleBoardMenu}}),t._t("header")],2),s("main",{ref:"main"},[t._t("main")],2),s("footer",{ref:"footer"},[t._t("footer")],2)])},Sr=[],Lr={methods:{toggleBoardMenu:function(){this.$emit("toggle-board-menu")}}},Ir=Lr,Mr=Object(b["a"])(Ir,Er,Sr,!1,null,null,null),$r=Mr.exports,Pr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[t.isStyleMenu?r("board-menu-popup",{on:{"toggle-board-menu":t.toggleBoardMenu}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("button",{staticClass:"icon back",on:{click:t.backToLastMenu}}),r("h2",{staticClass:"headline"},[t._v("Change background")])]),r("div",{staticClass:"choose-style-menu",attrs:{slot:"main"},slot:"main"},[r("div",[r("img",{staticClass:"board-menu-img",attrs:{src:s("0502"),alt:"photos"},on:{click:t.openImgMenu}}),r("h2",[t._v("Photos")])]),r("div",[r("img",{staticClass:"board-menu-img",attrs:{src:s("5ce0"),alt:"colors"},on:{click:t.openColorMenu}}),r("h2",[t._v("Colors")])])])]):t.isImgMenu?r("style-list",{attrs:{styleList:t.imgStyles,headline:"Photos"},on:{"toggle-style-menu":t.toggleStyleMenu,"set-board-style":t.setBoardStyle,"toggle-board-menu":t.toggleBoardMenu}}):r("style-list",{attrs:{styleList:t.colorStyles,headline:"Colors"},on:{"toggle-style-menu":t.toggleStyleMenu,"set-board-style":t.setBoardStyle,"toggle-board-menu":t.toggleBoardMenu}})],1)},Rr=[],Dr=(s("ddb0"),s("5319"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("board-menu-popup",{on:{"toggle-board-menu":t.toggleBoardMenu}},[s("div",{attrs:{slot:"header"},slot:"header"},[s("button",{staticClass:"icon back",on:{click:t.toggleStyleMenu}}),s("h2",{staticClass:"headline"},[t._v(t._s(t.headline))])]),s("div",{attrs:{slot:"main"},slot:"main"},[t.styleList?s("ul",{staticClass:"clean-list choose-style-menu"},t._l(t.styleList,(function(e,r){return s("li",{key:"style"+r,staticClass:"board-menu-img",style:e.style,on:{click:function(s){return t.selectStyle(e.id)}}})})),0):t._e()])])}),Nr=[],Ur={props:{styleList:Array,headline:String},methods:{toggleBoardMenu:function(){this.$emit("toggle-board-menu")},toggleStyleMenu:function(){this.$emit("toggle-style-menu")},selectStyle:function(t){var e="Photos"===this.headline;this.$emit("set-board-style",{styleId:t,isImg:e})}},components:{boardMenuPopup:$r}},Hr=Ur,Jr=Object(b["a"])(Hr,Dr,Nr,!1,null,null,null),Fr=Jr.exports,Gr={props:{board:Object},data:function(){return{boardToEdit:JSON.parse(JSON.stringify(this.board)),isStyleMenu:!0,isImgMenu:!1,imgs:[],colors:[{id:"c101",value:"#C10BB3"},{id:"c102",value:"#0079bf"},{id:"c103",value:"#003152"},{id:"c105",value:"#f2d600"},{id:"c106",value:"#61bd4f"},{id:"c107",value:"#ff9f1a"},{id:"c108",value:"#eb5a46"},{id:"c109",value:"#c377e0"},{id:"c110",value:"#00c2e0"},{id:"c111",value:"#51e898"}]}},mounted:function(){this.importAll(s("ff5e"))},methods:{importAll:function(t){var e=this;t.keys().forEach((function(t){var s=fs.makeId(),r=t.replace("./","");e.imgs.push({id:s,value:r})}))},toggleBoardMenu:function(){this.$emit("toggle-board-menu")},backToLastMenu:function(){this.$emit("open-board-menu")},toggleStyleMenu:function(){this.isStyleMenu=!this.isStyleMenu},openColorMenu:function(){this.selectedStyle=this.colorStyles[0],this.toggleStyleMenu(),this.isImgMenu=!1},openImgMenu:function(){this.selectedStyle=this.imgStyles[0],console.log("img"),this.toggleStyleMenu(),this.isImgMenu=!0},setBoardStyle:function(t){var e=t.styleId,s=t.isImg;if(s){var r;if((null===(r=this.boardToEdit.style.bgImg)||void 0===r?void 0:r.id)===e)return;this.boardToEdit.style.bgImg=this.imgs.find((function(t){var s=t.id;return s===e}))}else{var a;if(this.boardToEdit.style.bgImg={},(null===(a=this.boardToEdit.style.bgColor)||void 0===a?void 0:a.id)===e)return;this.boardToEdit.style.bgColor=this.colors.find((function(t){var s=t.id;return s===e}))}console.log("this.boardToEdit.style:",this.boardToEdit.style),this.$store.dispatch("saveBoard",{board:this.boardToEdit,activity:null,task:null})}},computed:{imgStyles:function(){var t=this.imgs.map((function(t){var e=s("1096")("./"+t.value);return{id:t.id,style:{backgroundImage:"url(".concat(e,")")}}}));return console.log(t),t},colorStyles:function(){var t=this.colors.map((function(t){return{id:t.id,style:{backgroundColor:t.value}}}));return t}},components:{boardMenuPopup:$r,styleList:Fr}},zr=Gr,Qr=Object(b["a"])(zr,Pr,Rr,!1,null,null,null),Yr=Qr.exports,Wr=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.filteredActivities?s("ul",t._l(t.filteredActivities,(function(e){return s("li",{key:e.id,staticClass:"clean-list",class:t.layoutClass},[s("member-preview",{attrs:{member:e.byMember}}),s("div",[s("p",[s("span",[t._v(t._s(e.byMember.fullname))]),t._v(" "+t._s(e.txt)+" ")]),s("p",[t._v(" "+t._s(t.date(e.createdAt).day)+" at "+t._s(t.date(e.createdAt).hour)+" ")])])],1)})),0):t._e()},qr=[],Vr={props:{activities:Array,layoutClass:String},methods:{date:function(t){var e=hs.a.unix(t).format("MMM D"),s=hs.a.unix(t).format("hh:mm A"),r={day:e,hour:s};return r},activityDescription:function(t){return console.log("txt:",t),t?t.split("by")[0]:""}},computed:{filteredActivities:function(){return this.activities.filter((function(t){return!!t}))}},components:{memberPreview:T}},Xr=Vr,Kr=Object(b["a"])(Xr,Wr,qr,!1,null,null,null),Zr=Kr.exports,ta={props:{boardStyle:Object,board:Object,activities:Array},data:function(){return{isMainMenu:!0}},methods:{toggleBoardMenu:function(){this.$emit("toggle-board-menu"),this.openBoardMenu()},openBoardMenu:function(){this.isMainMenu=!0},toggleDashboard:function(){var t=this.board._id;this.$router.push("/board/"+t+"/dashboard"),this.toggleBoardMenu()},toggleStylePicker:function(){this.isMainMenu=!1}},components:{boardMenuPopup:$r,boardMenuStyle:Yr,activityList:Zr}},ea=ta,sa=Object(b["a"])(ea,Or,Br,!1,null,null,null),ra=sa.exports,aa={data:function(){return{maxHeight:"0px",isAddNewGroup:!1,newGroup:JSON.parse(JSON.stringify(this.$store.getters.getEmptyGroup)),isOpenMenu:!1}},created:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$store.getters.board){e.next=5;break}return s=t.$route.params.boardId,e.next=4,t.loadBoard(s);case 4:t.assignClasses();case 5:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this.$refs.boardHeader;t&&this.$store.commit({type:"setBoardHeader",boardHeader:t})},destroyed:function(){var t=this.$store.getters.mainHeader;t.classList.remove("img-bg")},methods:{loadBoard:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"getBoard",boardId:t});case 2:case"end":return s.stop()}}),s)})))()},addGroup:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.newGroup.title){e.next=2;break}return e.abrupt("return");case 2:return t.newGroup.board={id:t.board._id},e.next=5,t.$store.dispatch({type:"saveGroup",group:t.newGroup});case 5:t.newGroup=JSON.parse(JSON.stringify(t.$store.getters.getEmptyGroup)),t.isAddNewGroup=!1;case 7:case"end":return e.stop()}}),e)})))()},saveBoard:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"saveBoard",board:t.board});case 2:case"end":return e.stop()}}),e)})))()},assignClasses:function(){var t=this.$store.getters.mainHeader,e=this.$refs.board;this.board.style.bgImg||this.board.style.bgColor?(t.classList.add("img-bg"),e.classList.add("img-bg")):(t.classList.remove("img-bg"),e.classList.remove("img-bg"))},toggleBoardMenu:function(){this.isOpenMenu=!this.isOpenMenu}},computed:{board:function(){return this.$store.getters.currBoard},background:function(){var t=this.$store.getters.currBoard.style;return t.bgImg?{"background-image":"url("+s("1096")("./"+t.bgImg.value)+")","background-size":"cover"}:t.bgColor?{background:t.bgColor.value}:void 0},boardStyle:function(){if(this.board.style.bgImg){var t=s("1096")("./"+this.board.style.bgImg.value);return{backgroundImage:"url(".concat(t,")")}}return{backgroundColor:this.board.style.bgColor.value}},activities:function(){return this.board.activities}},watch:{"$route.params.boardId":function(t){this.loadBoard(t)}},components:{boardHeader:Ye,group:Tr,editableText:ps,draggable:Xe.a,boardMenu:ra}},na=aa,oa=Object(b["a"])(na,we,xe,!1,null,null,null),ia=oa.exports,la=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.task?s("section",{staticClass:"task-screen",on:{dragover:function(e){return e.preventDefault(),t.dragOver(e)},click:function(e){return e.stopPropagation(),t.closeTask(e)}}},[s("div",{staticClass:"task",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"task-cover"},[t.task.style.coverColor?s("div",{staticClass:"task-cover-color",style:"background-color: "+t.task.style.coverColor}):t._e(),t.task.style.coverImg?s("img",{staticClass:"task-cover-img",attrs:{src:t.task.style.coverImg}}):t._e()]),s("div",{staticClass:"header"},[s("button",{staticClass:"btn close icon x-bright",on:{click:function(e){return e.stopPropagation(),t.closeTask(e)}}}),s("div",{staticClass:"task-main-layout headline"},[s("div",{staticClass:"icon title"}),s("task-title",{on:{click:function(t){t.preventDefault()},input:function(e){return t.saveTask(t.task)}},model:{value:t.task.title,callback:function(e){t.$set(t.task,"title",e)},expression:"task.title"}})],1),t.groupTitle?s("p",{staticClass:"task-secondary-layout group-title"},[t._v(" in list: "+t._s(t.groupTitle)+" ")]):t._e()]),s("div",{staticClass:"task-content",on:{click:function(t){t.stopPropagation()}}},[s("task-control",{ref:"taskControls",attrs:{task:t.task,attachments:t.attachments}}),s("div",{staticClass:"task-main"},[t.task?s("div",{staticClass:"task-info task-secondary-layout"},[t.task.members&&t.task.members.length?s("member-list",{attrs:{members:t.task.members,isTaskRelated:!0,isInTask:!0},on:{"remove-task-member":t.removeTaskMember,"open-member-popup":t.openMemberPopup}}):t._e(),t.task.labelIds&&t.task.labelIds.length?s("task-label",{attrs:{taskLabelIds:t.task.labelIds},on:{"open-label-popup":t.openLabelPopup}}):t._e(),t.task.duedate?s("div",{staticClass:"task-duedate"},[s("input",{attrs:{type:"checkbox"}}),t._v(" "+t._s(t.date.day)+" at "+t._s(t.date.hour)+" ")]):t._e()],1):t._e(),t._m(0),s("editable-text",{staticClass:"task-secondary-layout task-description-content",attrs:{type:"description",elementType:"task"},on:{input:t.setDescription},model:{value:t.task.description,callback:function(e){t.$set(t.task,"description",e)},expression:"task.description"}}),t.attachments.length?s("task-attachment",{attrs:{attachments:t.attachments},on:{"save-attachments":t.saveAttachments}}):t._e(),t.isDragOver?s("file-drag-uploader",{staticClass:"drag-uploader",attrs:{isDragOver:t.isDragOver,attachments:t.attachments},on:{"save-attachments":t.saveAttachments,"not-drag-over":t.notDragOver}}):t._e(),s("draggable",{staticClass:"clean-list",attrs:{group:"checklists",animation:"150","empty-insert-threshold":"50",draggable:".checklist-container",tag:"ul"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1,t.saveTask(t.task)}},model:{value:t.task.checklists,callback:function(e){t.$set(t.task,"checklists",e)},expression:"task.checklists"}},[t._l(t.task.checklists,(function(e){return s("task-checklist",{key:e.id,staticClass:"checklist-container",attrs:{checklist:e},on:{"save-todo":t.saveTodo,"delete-checklist":t.deleteChecklist,"toggle-drag":t.toggleDrag,"update-task":function(e){return t.saveTask(t.task)}}})})),t.activities.length?s("div",{staticClass:"task-main-layout headline"},[s("div",{staticClass:"icon list"}),s("h4",[t._v("Activity")])]):t._e(),s("activity-list",{staticClass:"activity-list",attrs:{activities:t.activities,layoutClass:"task-main-layout"}})],2)],1)],1)])]):t._e()},ca=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task-main-layout headline"},[s("div",{staticClass:"icon description"}),s("h4",{staticClass:"description"},[t._v("Description")])])}],ua=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"task-checklist"},[s("div",{staticClass:"checklist-header"},[s("div",{staticClass:"task-main-layout headline"},[s("div",{staticClass:"icon checklist"}),t.isEditTitleOpen?s("editable-text",{staticClass:"editable-todo-title",attrs:{value:"todo-title",type:"title",elementType:"checklist",isEditFirst:!0},on:{"close-textarea":function(e){t.isEditTitleOpen=!1},input:t.editTitle},model:{value:t.checklist.title,callback:function(e){t.$set(t.checklist,"title",e)},expression:"checklist.title"}}):s("h4",{on:{click:t.openEditTitle}},[t._v(" "+t._s(t.checklist.title)+" ")])],1),t.isEditTitleOpen?t._e():s("button",{staticClass:"btn delete-checklist-btn",on:{click:t.deleteChecklist}},[t._v(" Delete ")])]),s("div",{staticClass:"task-main-layout progress-bar-container"},[s("p",[t._v(t._s(t.progressPercentage)+"%")]),s("div",{staticClass:"meter"},[s("span",{style:"width:"+t.progressPercentage+"%"},[s("span",{staticClass:"progress"})])])]),s("form",[s("draggable",{staticClass:"clean-list todos",attrs:{group:"todos",animation:"150","empty-insert-threshold":"50",draggable:"li",tag:"ul"},on:{start:function(e){return t.setDrag(!0)},end:function(e){t.setDrag(!1),t.$emit("update-task")}},model:{value:t.checklist.todos,callback:function(e){t.$set(t.checklist,"todos",e)},expression:"checklist.todos"}},t._l(t.checklist.todos,(function(e){return s("li",{key:e.id,staticClass:"task-main-layout todo-container",style:[e.isDone?{"text-decoration":"line-through"}:""]},[s("input",{ref:e.id,refInFor:!0,attrs:{type:"checkbox",id:e.id,name:e.id},domProps:{checked:e.isDone},on:{click:function(s){return t.toggleChecked(e)}}}),s("div",[e.id!==t.currTodoId?s("label",{attrs:{for:e.id},on:{click:function(s){return t.setCurrTodo(e.id)}}},[t._v(" "+t._s(e.txt)+" ")]):s("editable-text",{staticClass:"editable-todo",attrs:{type:e.id,value:e.id,isEditFirst:e.id===t.currTodoId},on:{"close-textarea":function(e){t.isEditTodoOpen=!1},input:function(s){return t.editTodo(e)}},model:{value:e.txt,callback:function(s){t.$set(e,"txt",s)},expression:"todo.txt"}}),s("button",{staticClass:"btn close icon x delete-todo",on:{click:function(s){return s.preventDefault(),t.deleteTodo(e)}}})],1)])})),0),t.isAddTodoOpen?s("editable-text",{staticClass:"editable-todo-add",attrs:{value:"todo",type:"todo",isEditFirst:!0},on:{"close-textarea":function(e){t.isAddTodoOpen=!1},input:t.addTodo},model:{value:t.todo.txt,callback:function(e){t.$set(t.todo,"txt",e)},expression:"todo.txt"}}):s("button",{staticClass:"btn task-secondary-layout",on:{click:t.openAddTodo}},[t._v(" Add an item ")])],1)])},da=[],pa={props:{checklist:Object},data:function(){return{checklistTitle:"",todo:{txt:"",isDone:!1},isEditTitleOpen:!1,isAddTodoOpen:!1,currTodoId:"",isEditTodoOpen:!1,isDragOver:!1,dragTodo:!1}},computed:{progressPercentage:function(){if(!this.checklist.todos.length)return 0;var t=this.checklist.todos.filter((function(t){return t.isDone})),e=Math.floor(t.length/this.checklist.todos.length*100);return e}},methods:{openAddTodo:function(){this.isAddTodoOpen=!0},setCurrTodo:function(t){this.currTodoId=t},openEditTitle:function(){this.isEditTitleOpen=!0},editTitle:function(){this.checklist.title=this.checklistTitle,this.saveChecklist()},addTodo:function(){this.todo.txt&&(this.checklist.todos||(this.checklist.todos=[]),this.todo.id=fs.makeId(),this.checklist.todos.push(Object(ie["a"])({},this.todo)),this.saveChecklist(),console.log(this.checklist),this.todo={txt:"",isDone:!1})},editTodo:function(t){var e=this.checklist.todos.findIndex((function(e){var s=e.id;return s===t.id}));this.checklist.todos.splice(e,1,t),this.saveChecklist()},deleteTodo:function(t){var e=this.checklist.todos.findIndex((function(e){var s=e.id;return s===t.id}));this.checklist.todos.splice(e,1),this.saveChecklist()},toggleChecked:function(t){var e=document.getElementById(t.id);e.checked?t.isDone=!0:t.isDone=!1,this.saveChecklist()},deleteChecklist:function(){this.$emit("delete-checklist",this.checklist.id)},saveChecklist:function(){this.$emit("save-todo",Object(ie["a"])({},this.checklist))},setDrag:function(t){this.dragTodo=t,this.$emit("toggle-drag",t)}},components:{draggable:Xe.a,editableText:ps}},ma=pa,ha=Object(b["a"])(ma,ua,da,!1,null,null,null),ba=ha.exports,ga=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.taskLabels?s("section",[s("h4",{staticClass:"task-info-headline"},[t._v("Labels")]),s("div",[s("ul",{staticClass:"clean-list flex task-label"},[t._l(t.taskLabels,(function(e){return s("li",{key:e.id,staticClass:"label-color",style:{"background-color":e.color},on:{click:t.openLabelPopup}},[t._v(" "+t._s(e.title)+" ")])})),s("li",{staticClass:"icon plus label-color",on:{click:t.openLabelPopup}})],2)])]):t._e()},fa=[],va={props:{taskLabelIds:Array},methods:{openLabelPopup:function(t){this.$emit("open-label-popup",t)}},computed:{boardLabels:function(){return this.$store.getters.currBoard.labels},taskLabels:function(){var t=this;if(this.taskLabelIds){var e=this.boardLabels.filter((function(e){return t.taskLabelIds.includes(e.id)}));return e}}}},ka=va,ya=Object(b["a"])(ka,ga,fa,!1,null,null,null),Ca=ya.exports,wa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"task-attachment-container"},[t._m(0),s("ul",{staticClass:"clean-list"},t._l(t.attachmentsToEdit,(function(e){return s("li",{key:e.id,staticClass:"task-secondary-layout task-attachment"},[s("img",{staticClass:"attachment-img",attrs:{src:e.url,alt:e.url}}),s("div",{staticClass:"attachment-info"},[s("div",[s("h5",[t._v(t._s(e.title))]),s("p",[t._v("Added "+t._s(t.date(e.createdAt)))])]),s("div",[s("button",{staticClass:"btn attachment-action",on:{click:function(s){return t.removeAttachment(e.id)}}},[t._v(" Delete")]),t._v("- "),s("button",{staticClass:"btn attachment-action",on:{click:function(s){return t.editAttachment(e,s)}}},[t._v(" Edit ")])])])])})),0),s("button",{staticClass:"btn neutral task-secondary-layout"},[t._v("Add an attachment")]),t.selectedAttachment?s("popup",{ref:"popup",staticClass:"attachment-edit",style:{"max-height":"fit-content"}},[s("div",{staticClass:"task-popup-header",attrs:{slot:"header"},slot:"header"},[s("h2",[t._v("Edit attachment")]),s("button",{staticClass:"btn close icon x",on:{click:t.closeEditAttachment}})]),s("div",{staticClass:"attachment-edit-main",attrs:{slot:"main"},slot:"main"},[s("h3",[t._v("Link name")]),s("editable-text",{attrs:{isEditFirst:!0},on:{input:t.updateAttachment,"close-textarea":t.closeEdit},model:{value:t.selectedAttachment.title,callback:function(e){t.$set(t.selectedAttachment,"title",e)},expression:"selectedAttachment.title"}})],1)]):t._e()],1)},xa=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task-main-layout headline"},[s("div",{staticClass:"icon attachment"}),s("h4",[t._v("Attachments")])])}],ja={props:{attachments:Array},data:function(){return{selectedAttachment:null}},methods:{removeAttachment:function(t){var e=this.attachmentsToEdit.findIndex((function(e){var s=e.id;return s===t}));this.attachmentsToEdit.splice(e,1),this.$emit("save-attachments",this.attachmentsToEdit)},editAttachment:function(t,e){var s=this;this.selectedAttachment=Object(ie["a"])({},t);var r=e.target.getBoundingClientRect();console.log("file: task-attachment.vue - line 93 - editAttachment - rect",r),this.$nextTick((function(){var t=s.$refs.popup.$el;t.style.top=r.bottom+"px",t.style.left=r.left+"px"}))},closeEditAttachment:function(){this.selectedAttachment=null},updateAttachment:function(){var t=this,e=this.attachmentsToEdit.findIndex((function(e){var s=e.id;return s===t.selectedAttachment.id}));this.attachmentsToEdit.splice(e,1,this.selectedAttachment),this.$emit("save-attachments",this.attachmentsToEdit),this.closeEdit()},closeEdit:function(){this.selectedAttachment=null},date:function(t){return hs()(+t).fromNow()}},computed:{attachmentsToEdit:function(){return Object(Qs["a"])(this.attachments)}},components:{popup:ae,editableText:ps}},_a=ja,Aa=Object(b["a"])(_a,wa,xa,!1,null,null,null),Ta=Aa.exports,Oa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"file-drag-upload",class:{"file-drag":t.isDragOver},on:{drop:function(e){return e.preventDefault(),t.handleFile(e)}}},[t.isDragOver&&!t.isLoading?s("h3",{staticClass:"msg drop-file"},[t._v(" Drop files to upload ")]):t._e(),t.isLoading?s("img",{staticClass:"loader",attrs:{src:"https://lh3.googleusercontent.com/proxy/xNRAsz9LprHZ9Swqv6a-dNPSGrh_-Yx8aHcJmyzbkyvS2opSTtRZSkiegngjsJyWeuIkYL2fhNVd6uKpOlS1q8UQqiv3CZuthg9jGG3ztTloB_OGNbFtbSC7MSHhd7Ll=s0-d"}}):t._e()])},Ba=[],Ea={props:{isDragOver:Boolean,attachments:Array},data:function(){return{isLoading:!1,newAttachment:{id:null,title:null,url:null,createdAt:null}}},methods:{handleFile:function(t){var e;"change"===t.type?e=t.target.files[0]:"drop"===t.type&&(e=t.dataTransfer.files[0]),this.onUploadImg(e)},onUploadImg:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e.isLoading=!0,s.next=4,X(t);case 4:r=s.sent,console.log("res:",r),e.isLoading=!1,e.saveAttachment(r),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),console.log("Couldn't load image");case 13:return s.prev=13,e.$emit("not-drag-over"),s.finish(13);case 16:case"end":return s.stop()}}),s,null,[[0,10,13,16]])})))()},saveAttachment:function(t){this.newAttachment.id=fs.makeId(),this.newAttachment.title="".concat(t.original_filename,".").concat(t.format),this.newAttachment.url=t.url,this.newAttachment.createdAt=Date.now();var e=Object(Qs["a"])(this.attachments);e.push(this.newAttachment),this.$emit("save-attachments",e)}}},Sa=Ea,La=Object(b["a"])(Sa,Oa,Ba,!1,null,null,null),Ia=La.exports,Ma={data:function(){return{isLabelOpen:!1,isDragOver:!1,drag:!1,popupLeftPos:null,groupTitle:null,initialHeight:null}},created:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.group();case 2:s=document.querySelector(".board-header").getBoundingClientRect(),t.initialHeight=s.top;case 4:case"end":return e.stop()}}),e)})))()},computed:{task:function(){return JSON.parse(JSON.stringify(this.$store.getters.currTask))},attachments:function(){return this.task.attachments},date:function(){var t=this.task.duedate,e=hs.a.unix(t).format("MMM D"),s=hs.a.unix(t).format("hh:mm A"),r={day:e,hour:s};return r},activities:function(){var t=this,e=this.$store.getters.currBoard.activities.filter((function(e){if(null!==e)return e.task.id===t.$store.getters.currTask.id}));return e||[]}},methods:{group:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"getGroup"});case 2:s=e.sent,t.groupTitle=s.title;case 4:case"end":return e.stop()}}),e)})))()},setDescription:function(){this.saveTask({task:this.task,activityType:"Description was set"})},deleteChecklist:function(t){var e=this.task.checklists.findIndex((function(e){var s=e.id;return s===t}));this.task.checklists.splice(e,1),this.saveTask({task:this.task,activityType:"Checklist was deleted"})},saveTodo:function(t){var e=this.task.checklists.findIndex((function(e){var s=e.id;return s===t.id}));this.task.checklists.splice(e,1,t),this.saveTask({task:this.task,activityType:"Checklist-todo was saved"})},saveTask:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.task,a=t.activityType,s.next=3,e.$store.dispatch({type:"saveTask",task:r,activityType:a});case 3:case"end":return s.stop()}}),s)})))()},closeTask:function(){var t=this.$route.params.boardId;this.$router.push("/board/"+t)},openLabelPopup:function(t){this.$refs.taskControls.togglePopup("Label",t)},saveAttachments:function(t){this.task.attachments=t,console.log(t);var e=this.$store.getters.loggedinUser;this.saveTask({task:this.task,activityType:"Task '".concat(this.task.title,"'s' attachments were set by: ").concat(e.fullname)})},dragOver:function(t){this.drag||(this.isDragOver=!0)},notDragOver:function(){this.isDragOver=!1},toggleDrag:function(t){this.drag=t},setDrag:function(t){this.dragTodo=t,this.$emit("toggle-drag",t)},removeTaskMember:function(t){console.log("memberIdx:");var e=this.task.members.findIndex((function(e){var s=e._id;return s===t}));e<0||(this.task.members.splice(e,1),this.saveTask(this.task))},openMemberPopup:function(t){this.$refs.taskControls.togglePopup("Member",t)}},components:{draggable:Xe.a,taskControl:kr,taskTitle:Fe,memberList:Re,taskChecklist:ba,editableText:ps,taskLabel:Ca,taskAttachment:Ta,fileDragUploader:Ia,boardService:Qa,activityList:Zr}},$a=Ma,Pa=Object(b["a"])($a,la,ca,!1,null,null,null),Ra=Pa.exports;r["a"].use(M["a"]);var Da=[{path:"/",name:"home",component:kt},{path:"/login",name:"login-signup",component:St},{path:"/board",name:"board-list",component:Ce},{path:"/board/:boardId",name:"board",component:ia,children:[{path:"dashboard",component:Vt},{path:":taskId",component:Ra}]},{path:"/about",name:"about",component:bt}],Na=new M["a"]({routes:Da}),Ua="/api/",Ha=I.a.create({withCredentials:!0}),Ja={get:function(t,e){return Fa(t,"GET",e)},post:function(t,e){return Fa(t,"POST",e)},put:function(t,e){return Fa(t,"PUT",e)},delete:function(t,e){return Fa(t,"DELETE",e)}};function Fa(t){return Ga.apply(this,arguments)}function Ga(){return Ga=Object(u["a"])(regeneratorRuntime.mark((function t(e){var s,r,a,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=n.length>1&&void 0!==n[1]?n[1]:"GET",r=n.length>2&&void 0!==n[2]?n[2]:null,t.prev=2,t.next=5,Ha({url:"".concat(Ua).concat(e),method:s,data:r,params:"GET"===s?r:null});case 5:return a=t.sent,t.abrupt("return",a.data);case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Had Issues ".concat(s,"ing to the backend, endpoint: ").concat(e,", with data: ").concat(r)),console.dir(t.t0),t.t0.response&&401===t.t0.response.status&&Na.push("/login"),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])}))),Ga.apply(this,arguments)}var za="board/",Qa={query:Wa,remove:Va,save:Xa,getById:Ya,getEmptyBoard:Za,getEmptyGroup:tn,getEmptyTask:en,getEmptyTemplate:sn,getEmptyActivity:rn};function Ya(t){return Ja.get(za+t)}function Wa(t){return qa.apply(this,arguments)}function qa(){return qa=Object(u["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ja.get(za,{params:e});case 2:return s=t.sent,t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)}))),qa.apply(this,arguments)}function Va(t){return Ja.delete(za+t)}function Xa(t){return Ka.apply(this,arguments)}function Ka(){return Ka=Object(u["a"])(regeneratorRuntime.mark((function t(e){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=e.board,!s._id){t.next=8;break}return t.next=4,Ja.put(za+s._id,e);case 4:return r=t.sent,t.abrupt("return",r);case 8:return t.next=10,Ja.post(za,s);case 10:return t.abrupt("return",t.sent);case 11:case"end":return t.stop()}}),t)}))),Ka.apply(this,arguments)}function Za(){return{title:"",createdAt:null,createdBy:{},style:{bgImg:{},bgColor:{}},labels:[],members:[],groups:[],activities:[],lastViewedAt:null,isStarred:!1}}function tn(){return{title:"",tasks:[],style:{}}}function en(){return{title:"",description:"",attachments:[],checklists:[],members:[],style:{coverColor:"",coverImg:""}}}function sn(){for(var t=[],e=0;e<5;e++){var s=tn();s.id=fs.makeId(),t.push(s)}return t}function rn(t){var e=t.currTask,s=t.txt,r=R.getLoggedinUser();return{id:fs.makeId(),txt:s,createdAt:Date.now(),byMember:{_id:r._id,fullname:r.fullname},task:{id:e.id,title:e.title}}}var an=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.alive?s("div",{staticClass:"alert",class:t.alertClass},[t._v(" "+t._s(t.msg.txt)+" ")]):t._e()},nn=[],on="show-msg",ln=new r["a"];function cn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";ln.$emit(on,{txt:t,type:e})}var un={created:function(){var t=this;ln.$on(on,(function(e){t.msg=e;var s=e.delay||3e3;t.alive=!0,setTimeout((function(){t.alive=!1}),s)}))},data:function(){return{alive:!1,msg:null}},computed:{alertClass:function(){if(this.msg)return"alert-".concat(this.msg.type)}}},dn=un,pn=Object(b["a"])(dn,an,nn,!1,null,null,null),mn=pn.exports,hn={data:function(){return{}},components:{mainHeader:S,userMsg:mn},mounted:function(){this.$store.commit({type:"setMainHeader",mainHeader:this.$refs.mainHeader.$el}),this.$store.dispatch({type:"loadUsers"})}},bn=hn,gn=Object(b["a"])(bn,a,n,!1,null,null,null),fn=gn.exports,vn=s("9483");Object(vn["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var kn,yn=s("2f62"),Cn={state:{loggedinUser:JSON.parse(sessionStorage.getItem("loggedinUser"))||{},users:[],watchedUser:null},getters:{users:function(t){var e=t.users;return e},loggedinUser:function(t){var e=t.loggedinUser;return e},watchedUser:function(t){var e=t.watchedUser;return e}},mutations:(kn={setLoggedinUser:function(t,e){var s=e.user;t.loggedinUser=s}},Object(ts["a"])(kn,"setLoggedinUser",(function(t,e){var s=e.user;t.loggedinUser=s})),Object(ts["a"])(kn,"setWatchedUser",(function(t,e){var s=e.user;t.watchedUser=s})),Object(ts["a"])(kn,"setUsers",(function(t,e){var s=e.users;t.users=s})),Object(ts["a"])(kn,"removeUser",(function(t,e){var s=e.userId;t.users=t.users.filter((function(t){return t._id!==s}))})),kn),actions:{login:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.userCred,s.prev=2,s.next=5,R.login(a);case 5:return n=s.sent,socketService.emit("join-user",n._id),socketService.off("activity-update"),socketService.on("activity-update",(function(t){console.log("socket emitted- Activity update",t),cn(t.txt)})),r({type:"setLoggedinUser",user:n}),s.abrupt("return",n);case 13:throw s.prev=13,s.t0=s["catch"](2),console.log("userStore: Error in login",s.t0),s.t0;case 17:case"end":return s.stop()}}),s,null,[[2,13]])})))()},signup:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.userCred,s.prev=2,s.next=5,R.signup(a);case 5:return n=s.sent,r({type:"setLoggedinUser",user:n}),s.abrupt("return",n);case 10:throw s.prev=10,s.t0=s["catch"](2),console.log("userStore: Error in signup",s.t0),s.t0;case 14:case"end":return s.stop()}}),s,null,[[2,10]])})))()},logout:function(t){return Object(u["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,R.logout();case 4:s({type:"setLoggedinUser",user:null}),e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.log("userStore: Error in logout",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))()},loadUsers:function(t){return Object(u["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,R.getUsers();case 4:r=e.sent,s({type:"setUsers",users:r}),e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](1),console.log("userStore: Error in loadUsers",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},loadAndWatchUser:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.userId,s.prev=2,s.next=5,R.getById(a);case 5:n=s.sent,r({type:"setWatchedUser",user:n}),socketService.emit(SOCKET_EMIT_USER_WATCH,a),socketService.off(SOCKET_EVENT_USER_UPDATED),socketService.on(SOCKET_EVENT_USER_UPDATED,(function(t){r({type:"setWatchedUser",user:t})})),s.next=16;break;case 12:throw s.prev=12,s.t0=s["catch"](2),console.log("userStore: Error in loadAndWatchUser",s.t0),s.t0;case 16:case"end":return s.stop()}}),s,null,[[2,12]])})))()},removeUser:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.userId,s.prev=2,s.next=5,R.remove(a);case 5:r({type:"removeUser",userId:a}),s.next=12;break;case 8:throw s.prev=8,s.t0=s["catch"](2),console.log("userStore: Error in removeUser",s.t0),s.t0;case 12:case"end":return s.stop()}}),s,null,[[2,8]])})))()},updateUser:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.user,s.prev=2,s.next=5,R.update(a);case 5:a=s.sent,r({type:"setUser",user:a}),s.next=13;break;case 9:throw s.prev=9,s.t0=s["catch"](2),console.log("userStore: Error in updateUser",s.t0),s.t0;case 13:case"end":return s.stop()}}),s,null,[[2,9]])})))()}}},wn=s("8055"),xn=s.n(wn),jn="",_n=An();function An(){var t,e={setup:function(){t=xn()(jn)},on:function(s,r){t||e.setup(),t.on(s,r)},off:function(s){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||e.setup(),r?t.off(s,r):t.removeAllListeners(s)},emit:function(s,r){t||e.setup(),t.emit(s,r)},terminate:function(){t=null}};return e}window.socketService=_n;var Tn={state:{board:null,boards:null,task:null,mainHeader:null,boardHeader:null},getters:{boards:function(t){return t.boards},currBoard:function(t){return t.board},currTask:function(t){return t.task},mainHeader:function(t){return t.mainHeader},boardHeader:function(t){return t.boardHeader},emptyBoard:function(){return Qa.getEmptyBoard()},getEmptyGroup:function(){return Qa.getEmptyGroup()},getEmptyTask:function(){return Qa.getEmptyTask()}},mutations:{setBoard:function(t,e){var s=e.board;t.board=s},setBoards:function(t,e){var s=e.boards;t.boards=s},setCurrTask:function(t,e){var s=e.task;t.task=s},removeBoard:function(t,e){var s=e.boardId,r=t.boards.findIndex((function(t){return t._id===s}));r<0||t.boards.splice(r,1)},setMainHeader:function(t,e){var s=e.mainHeader;t.mainHeader=s},setBoardHeader:function(t,e){var s=e.boardHeader;t.boardHeader=s}},actions:{loadBoards:function(t){return Object(u["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,Qa.query();case 4:return r=e.sent,s({type:"setBoards",boards:r}),e.abrupt("return",r);case 9:e.prev=9,e.t0=e["catch"](1),console.log("err:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))()},getBoard:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.boardId,s.prev=2,s.next=5,Qa.getById(a);case 5:n=s.sent,r({type:"setBoard",board:n}),_n.emit("join-board",a),_n.off("board-update"),_n.on("board-update",(function(t){console.log("board updated-socket"),r({type:"setBoard",board:t})})),s.next=15;break;case 12:s.prev=12,s.t0=s["catch"](2),console.log("err",s.t0);case 15:case"end":return s.stop()}}),s,null,[[2,12]])})))()},saveBoard:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a,n,o,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.board,n=e.activity,o=e.task,s.prev=2,console.log("file: board.store.js - line 98 - saveBoard - board",a),s.next=6,Qa.save({board:a,activity:n,task:o});case 6:return i=s.sent,r({type:"setBoard",board:i}),s.abrupt("return",a);case 11:s.prev=11,s.t0=s["catch"](2),console.log("err:",s.t0);case 14:case"end":return s.stop()}}),s,null,[[2,11]])})))()},removeBoard:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=e.boardId,s.prev=2,s.next=5,Qa.remove(a);case 5:console.log("board deleted:",a),r({type:"removeBoard",boardId:a}),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](2),console.log("err:",s.t0);case 12:case"end":return s.stop()}}),s,null,[[2,9]])})))()},getGroup:function(t){return Object(u["a"])(regeneratorRuntime.mark((function e(){var s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.state,e.next=3,s.board.groups.find((function(t){var e=t.tasks;return e.some((function(t){var e=t.id;return e===s.task.id}))}));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))()},saveGroup:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a,n,o,i,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.state,a=t.commit,n=t.dispatch,o=e.group,i=JSON.parse(JSON.stringify(r.board)),o.id?(l=i.groups.findIndex((function(t){var e=t.id;return e===o.id})),i.groups.splice(l,1,o)):(o.id=fs.makeId(),i.groups.push(o)),console.log("board",i),s.next=7,n({type:"saveBoard",board:i});case 7:a({type:"setBoard",board:i});case 8:case"end":return s.stop()}}),s)})))()},removeGroup:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a,n,o,i,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(r=t.commit,a=t.dispatch,n=t.state,o=e.groupId,i=JSON.parse(JSON.stringify(n.board)),l=i.groups.findIndex((function(t){var e=t.id;return e===o})),!(l<0)){s.next=6;break}return s.abrupt("return");case 6:return i.groups.splice(l,1),console.log("Remove group - line 134 - board store - board",i),s.next=10,a({type:"saveBoard",board:i});case 10:r({type:"setBoard",board:i});case 11:case"end":return s.stop()}}),s)})))()},saveTask:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a,n,o,i,l,c,u,d,p;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.commit,a=t.state,n=t.dispatch,o=e.groupId,i=e.task,l=e.activityType,c=JSON.parse(JSON.stringify(a.board)),console.log("file: board.store.js - line 152 - getBoard - task",i),console.log(o),o?(u=c.groups.find((function(t){return console.log(t),t.id===o})),console.log("group",u)):(console.log(c.groups),u=c.groups.find((function(t){return t.tasks.some((function(t){return t.id===i.id}))}))),i.id?(console.log("Updating task",i),d=u.tasks.findIndex((function(t){var e=t.id;return e===i.id})),u.tasks.splice(d,1,i)):(console.log("group",u),console.log("Adding task",i),i.id=fs.makeId(),u.tasks.push(i)),s.prev=7,console.log("task",i),p=Qa.getEmptyActivity({currTask:i,txt:l}),c.activities.push(p),console.log("file: board.store.js - line 192 - getBoard - board",c),console.log("activity",p),s.next=15,n("saveBoard",{board:c,activity:p,task:i});case 15:r({type:"setCurrTask",task:i}),s.next=21;break;case 18:s.prev=18,s.t0=s["catch"](7),console.log("err:",s.t0);case 21:case"end":return s.stop()}}),s,null,[[7,18]])})))()},removeTask:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a,n,o,i,l,c,u,d;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(r=t.state,t.commit,a=t.dispatch,n=e.taskId,o=e.activityType,i=JSON.parse(JSON.stringify(r.board)),i.activities.push(d),l=i.groups.find((function(t){return t.tasks.some((function(t){return t.id===n}))})),c=l.tasks.findIndex((function(t){return t.id===n})),!(c<0)){s.next=8;break}return s.abrupt("return");case 8:return u=l.tasks.splice(c,1),d=Qa.getEmptyActivity({currTask:u,txt:o}),s.prev=10,s.next=13,a("saveBoard",{board:i,activity:d});case 13:s.next=18;break;case 15:s.prev=15,s.t0=s["catch"](10),console.log("err:",s.t0);case 18:case"end":return s.stop()}}),s,null,[[10,15]])})))()},saveBoardLabels:function(t,e){return Object(u["a"])(regeneratorRuntime.mark((function s(){var r,a,n,o,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return r=t.state,a=t.commit,n=e.labels,o=JSON.parse(JSON.stringify(r.board)),i=Qa.getEmptyActivity({currTask:r.task,txt:"Label added!"}),o.labels=n,o.activities.push(i),s.next=8,dispatch("saveBoard",{board:o});case 8:a({type:"setBoard",board:o});case 9:case"end":return s.stop()}}),s)})))()}}};r["a"].use(yn["a"]);var On=new yn["a"].Store({state:{},getters:{},mutations:{},actions:{},modules:{userStore:Cn,boardStore:Tn}});s("b107");r["a"].config.productionTip=!1,new r["a"]({router:Na,store:On,render:function(t){return t(fn)}}).$mount("#app")},"57b6":function(t,e,s){t.exports=s.p+"img/3.ce7aa104.jpg"},"5ce0":function(t,e,s){t.exports=s.p+"img/colors.c346f365.jpg"},6633:function(t,e,s){t.exports=s.p+"img/ivana-cajina-dQejX2ucPBs-unsplash.51ca9656.jpg"},"6c49":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAACORJREFUeJzt3U2MnVUdx/HvtIMwpaW0lVhrrYCVkhoNWGpijWAhJsaALxsWJqCy6MbEnYgvMbrqQgQjatTY1NgKqAQL4cWogK0QUCgIKqQq5WVhEAgIhUJfcXE6QoaZuffMnHP+9z58P8l/0aaL/zn3/Hqfe5/7nDOCIowBHwDWAquAlcBCYAEwArwAPAfsBnYBO4Hbj/y91EnzgQuB3wL7gFcy6wCwHdgALGrcu1TNUuBbwB7yQzFVvQz8ADix3TCkssaAbwIvUS4Yk72rXAYc12hMUhHrgIepF4yJ9W/go01GJs3CCHAxcJB24XhtbQTmVh+lNAOjwE+ICcZr61rgmMpjlbKMAtcQH47xuo30GUgKNwJsIj4UE+s6UnClUF8mPgxT1Xcqjlvq6UPAIeKDMF19qtropWkcCzxKfAB61TPACXWmQJraRuIXf7+1qdIcSJNaAewnfuHn1GlVZkKaxBXEL/jc+mWVmZAmWEzd31fVqsPAyRXmo9PmRDcwhM5nOO9UjwAXRDeh7ruD+HeDmdY/SUGRqljE4N/36FVeZmXwEivPmQz/nJ0d3cAwGfYXu7X3RzdQQBfG0IwBybMquoECujCGZgxInndFN1BAF8bQjAHJc3x0AwW4I0oGA5JnfnQDBRyDz4n0zYDk6cp8+dx6n7rygrfShZ0N95M2rlMfDEie56MbKKALY2jGgOR5JLqBAnZHNzBMDEieXdENFNCFMTRjQPLcG91AAfdFN6DuWkb8jw1nW+8tPivSa/yN+EU+03oCrxqyOFn5roxuYBauJj1ZKFWzgrTIot8NZlJrKsyH9Dq/In6x59b2KjMhTeI04hd8bn2kykxIU9hK/KLvt36Hz6KrsaWkk2ijF3+v2gecUmkOpGldSHwAetUXq41e6sNm4kMwVd2AX+Ur2Biwg/gwTKwH6MYTkOqA44H7iQ/FeD1C+lmMNDAWAbcTH44HMBwaUPOAq4gLx814WaUBNwJsoO0O8AeAS/ADuYbIScD11A/HbcDqRmOSilsP/J7ywbgLOBfvkKsjTgcuB/7DzEPxDPBDYB0Gowknub25pKf6zgbWkvbKXcnrN6XbS9pgYRfpUd9bgJ3AwWadyoAMkFFgAek12UP64C1JkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJbhwXZBlpz94zeHVnxYW8unHcC6QDQsd3VtxJ2qT6sYhmpRbeBlxMOuBmpnvz7gK+DpzcuHepmtXAFtKeuiV3d78WWNNwHFJRi0k7sR+m7vkgVwJvbTQmqYhPAE9R//Cc8XqedGa7NNBGgctoF4yJtZl0LLU0cMaA64gLx3htx4M8NWDGgFuJD8d43Ych0YAYBbYRH4qJtQMvtzQALiU+DFPVFrwZrEDnEh+CXnVRtdFL01jE7E6sbVUvAm+vNAfSlL5P/OLvt66pNAfSpFZR/w556VpXZSakSWwmfsHn1o1VZkKa4C2kM8yjF/xManWF+ei0OdENDKFPk+59DKMLohtQ9+0k/p1gpvU43hdRRScQv8hnW6cWn5UO8xIrz4ejGyjgnOgGhokByXNGdAMF+BRiBgOSZ1V0AwV0YQzNGJA874xuoIAujKEZA5JnYXQDBficSAYDkmd+dAMFHA28KbqJYWFApGkYkDwvRDdQwD5gf3QTw8KA5HkuuoEC/hvdwDAxIHkejm6ggC6MoRkDkmdXdAMFdGEMzRiQPPdEN1DAzugG1F3+WFHqwZ+7v4F4iZVva3QDs/BzUlCkanzkVuphM/GLPbduqjIT0iROYfi2/flglZmQpuDGcdI03HpU6uE84gPQq9y8WqE8/kCaxiiDcfTaxPojHqCjATEG/IH4UIzX/aTPSNLAGAOuJz4cO/C5cw2oUeBy4sLxU7ys0hD4JPA07YKxB/hsi4FJpSwBfkz9O+5XAcsajUkq7t2kXwAfomwwfk03tkKVgHQ3+0vAX5l5KP4BfANY2bb1Ny5vIsVYBqwH1pL2yl1J+ubpONJrsoe0g8rDpGfI7wVuBR4N6FWSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJEmSJElSsLnRDej/jiZtHDfvyJ8PBvaiI9xZsb25pD11zyLtrLgaWAHMn/DvXgIeBx4C7iGd+3EXcKBZp1JDp5OOjn6Sme/N+yywCViH/7mpI84BtlP+2IO7gY9jUDSkVgI3Uf/wnB3AexqNSZq1EeDzwF7qh2O8DgBfxS9dNODmAb+gXTAm1m/wdFsNqCXAn4gLx3g9CCyvPFYpy2LgL8SHY7x2Y0g0IMaAO4kPxWTvJF5uKdQI8DPiwzBV3Ywf3BXoc8SHoFddUm300jSWA88TH4BetZ90FLXUVOTXubl1G95xV0NriV/0ufWxKjMhTWIb8Qs+t+6sMhPSBCcBh4lf8DOptRXmo9PmRDcwhD7D8F7PXxTdgLrvQeLfCWZaT+J9EVV0IvGL3MushrzEynNmdAMFdGEMzRiQPGuiGyigC2NoxoDkOTW6gQK6MIZmDEieFdENFNCFMTRjQPIsiW6ggMX4uvfNicpzTHQDBYyQNqlTHwxInleiGyikK+OozoDk2RvdQAGHgH3RTQwLA5LnqegGCnga30H6ZkDyPBbdQAGPRjcwTAxInr9HN1BAF8bQjAHJc3d0AwX8OboBddcJDO+zIOPlnXRVNYh7YPVb/2J4n2UJ4SVWvqujG5iF8Y0mpGqWAC8T/26QW4dJRzJI1f2I+AWfW9uqzIQ0iRNJG7JFL/qcel+NiZCm8m3iF32/taXSHEhTWkA6hTZ68feqZ4GlleZAmtZ6Bv++yPnVRi/14WvEh2CquqLiuKW+jABbiQ/DxLoZGK04bqlvRzFY+/XuAI6tOmIp01Gkb4uiw3ED6bRdaeCMAF8h7oP7pXhZpSFwFunBpFbBeAI4r8XApFLmAxtJz3/XCsZB4Ht4mq2G2HLgu8CLlAvGPmAT/vhQHbIQ2ADcAhwgPxSHgNuBLwBvbtz7G5YPz8RYAKwjHUWwGngH6WnFeaTXZC9p95HHgIeAncAdpJ+NqKH/AeZFBSOaxpcRAAAAAElFTkSuQmCC"},"6ee5":function(t,e,s){t.exports=s.p+"img/hero.839c8312.jpg"},7176:function(t,e,s){t.exports=s.p+"img/noy.c706601b.jpg"},"7b72":function(t,e,s){t.exports=s.p+"img/blueNorange.5b171107.jpg"},"7e4f":function(t,e,s){t.exports=s.p+"img/anton.08e1fa55.jpg"},8624:function(t,e,s){t.exports=s.p+"img/1.34895393.jpg"},9664:function(t,e,s){t.exports=s.p+"img/anton-drawn.bbad2133.jpg"},"96a9":function(t,e,s){t.exports=s.p+"img/ellipsis.fbee89e6.svg"},"974a":function(t,e,s){t.exports=s.p+"img/2.13841cea.jpg"},a726:function(t,e,s){t.exports=s.p+"img/x-icon.46ef2ddb.svg"},b107:function(t,e,s){},bb6e:function(t,e,s){var r={"./background/1.jpg":"8624","./background/2.jpg":"974a","./background/3.jpg":"57b6","./background/4.jpg":"cdd5","./background/5.jpg":"3849","./background/blueNorange.jpg":"7b72","./background/ivana-cajina-dQejX2ucPBs-unsplash.jpg":"6633","./background/jay-mantri-TFyi0QOx08c-unsplash.jpg":"deb1","./background/kunal-shinde--f0YLss50Bs-unsplash.jpg":"488c","./creator/anton-drawn.jpg":"9664","./creator/anton.jpg":"7e4f","./creator/ifat.jpg":"0ec4","./creator/noy.jpg":"7176","./icons/29008-200.png":"6c49","./icons/ellipsis.svg":"96a9","./icons/x-icon-bright.svg":"c025","./icons/x-icon.png":"1743","./icons/x-icon.svg":"a726","./logo.png":"4ffd","./logo2.png":"440d","./menu/colors.jpg":"5ce0","./menu/photos.jpg":"0502"};function a(t){var e=n(t);return s(e)}function n(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=n,t.exports=a,a.id="bb6e"},c025:function(t,e,s){t.exports=s.p+"img/x-icon-bright.2a1e3325.svg"},cdd5:function(t,e,s){t.exports=s.p+"img/4.5de46e4d.jpg"},deb1:function(t,e,s){t.exports=s.p+"img/jay-mantri-TFyi0QOx08c-unsplash.c0b110ce.jpg"},ff5e:function(t,e,s){var r={"./1.jpg":"8624","./2.jpg":"974a","./3.jpg":"57b6","./4.jpg":"cdd5","./5.jpg":"3849","./blueNorange.jpg":"7b72","./ivana-cajina-dQejX2ucPBs-unsplash.jpg":"6633","./jay-mantri-TFyi0QOx08c-unsplash.jpg":"deb1","./kunal-shinde--f0YLss50Bs-unsplash.jpg":"488c"};function a(t){var e=n(t);return s(e)}function n(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=n,t.exports=a,a.id="ff5e"}});
//# sourceMappingURL=app.49361743.js.map